;---------------------------------------------------------------------------
; 月華の剣士 第二幕 神崎十三
;---------------------------------------------------------------------------
[Data]
life = 1000               ;体力ゲージの初期値
power = 3000              ;パワーゲージの初期値
attack = 100              ;攻撃力（これ以上に設定すると強くなる）
defence = 100             ;防御力（これ以上に設定すると強くなる）
fall.defence_up = 50      ;コンボをくらっている時にあがる防御力
liedown.time = 25         ;倒れてから起上がるまでのフレーム数
airjuggle = 10            ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
sparkno = 15001           ;hitdefで設定していない時の基本ヒットスパークナンバー
guard.sparkno = 15201     ;設定してない時のガードナンバー
KO.echo = 0               ;KOした時に声にエコーをかけるか（１でＯＮ）
volume = 255
  IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1                ;水平方向の縮尺（通常１）
yscale = 1                ;垂直方向の縮尺（通常１）
ground.back = 25          ;キャラの幅(後方,地上)
ground.front = 25         ;キャラの幅(前方,地上)
air.back = 12             ;キャラの幅(後方,空中)
air.front = 12            ;キャラの幅(前方,空中)
height = 60               ;キャラの高さ
attack.dist = 280         ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90     ;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0          ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = 0,-115         ;頭の大体の座標
mid.pos = -5,-80          ;体の中心の大体の座標
shadowoffset = 0          ;影の垂直方向のオフセット
draw.offset = 0,0         ;使用しない

[Velocity]
walk.fwd  = 1.6875        ;前進の速度
walk.back = -1.4375       ;後退の速度
run.fwd  = 6.0625,0       ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -7,-5          ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-9.4375      ;垂直ジャンプの速度
jump.fwd = 2.6875;2.75    ;前ジャンプの速度
jump.back = -2.4375       ;後ジャンプの速度
runjump.fwd = 4.5         ;前ダッシュしながらのジャンプ速度(オプション)
runjump.back = -2.4375    ;後ダッシュしながらのジャンプ速度(オプション)

[Movement]
airjump.num = 0           ;空中でジャンプする回数
airjump.height = 30       ;空中でジャンプする最低限の高さ
yaccel = .50              ;重力
stand.friction = .85      ;立ち状態の摩擦係数
crouch.friction = .82     ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  S：立ち / C：屈み / A：空中 / L：ダウン
; movetype = ?  I/A/H    I：通常状態 / A：攻撃状態 / H：ダメージをくらってる状態
; physics = ?   S/C/A/N  S：立ち / C：屈み / A：空中 / N：無し
; juggle = ?             その攻撃に使うジャグル数

;---------------------------------------------------------------------------
; 使用変数一覧

;var(1)  = 剣質設定
;var(2)  = 永久防止１
;var(3)  = 永久防止２
;var(4)  = ヒット数算出
;var(5)  = 起き上がり無敵確認
;var(6)  = 空中受身可能時間算出
;var(7)  = ステート奪取確認
;var(8)  = 敗北時音声処理
;var(9)  = 攻撃ヒット制御
;var(10) = 完全勝利判定
;var(11) = 連殺斬判定
;var(12) = ガー不エフェクト処理
;var(13) = 弾き成立カウンター判定
;var(14) = ガード硬直短縮判定
;var(15) = ダッシュ攻撃判定＆投げ無敵判別
;var(16) = ハッパランダム処理
;var(17) = 昇華エフェクト出現判定
;var(18) = 鋼体術無敵保険
;var(19) = 
;var(20) = 
;var(21) = 起き上がり相手位置確認
;var(22) = ガード硬直短縮用HitTime記憶
;var(23) = 根性値初撃用体力常時監視
;var(24) = 根性値初撃用状態監視
;var(25) = 
;var(26) = 

;var(30) = 相手時間常時記憶
;var(31) = A.I.投げ学習１
;var(32) = A.I.投げ学習２
;var(33) = A.I.中段学習１
;var(34) = A.I.中段学習２
;var(35) = A.I.下段学習１
;var(36) = A.I.下段学習２
;var(37) = A.I.空中ガード不能学習１
;var(38) = A.I.空中ガード不能学習２
;var(39) = A.I.ガード不能学習
;var(40) = A.I.中段攻撃時間学習１・２
;var(41) = A.I.下段攻撃時間学習１・２
;var(42) = A.I.空中ガード不能攻撃時間学習１・２
;var(43) = 立ち中段ガード判断

;var(50) = 各種コンフィグ設定
;var(51) = 
;var(52) = 
;var(53) = 
;var(54) = 
;var(55) = タッグ時相手判別
;var(56) = 相手進行方向判別
;var(57) = 剣質即決定スイッチ
;var(58) = A.I.弾き率設定
;var(59) = A.I.起動＆レベル設定

;fvar(0)  = カウンター補正
;fvar(1)  = コンボ補正
;fvar(2)  = ダメージ値・MUGEN換算
;fvar(5)  = バウンド速度計算
;fvar(6)  = 画面幅簡易測定

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 170, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = S23,20

[State 170, 3]
type = ScreenBound
triggerall = Enemy,StateNo = [181,189]
trigger1 = Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL"
trigger2 = Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL"
trigger3 = Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL"
trigger4 = Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL"
trigger5 = Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL"
trigger6 = Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL"
trigger7 = Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL"
value = 0

[State 170, 4]
type = ScreenBound
trigger1 = !(Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL")
value = 0

;---------------------------------------------------------------------------
; 引き分け
[Statedef 175]
type = S
ctrl = 0
anim = 175
velset = 0,0

[State 175, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 175, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = S23,20

;---------------------------------------------------------------------------
; 勝利分岐
[Statedef 180]
type = S

[State 180, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;タライ移行用
[State 180, 2]
type = VarRandom
trigger1 = Time = 0
v = 16
range = 1,16

[State 180, 3]
type = ChangeState
triggerall = Var(10) > 0
trigger1 = Time = 20
trigger1 = MatchOver || TeamMode = Turns
trigger2 = Time = 70
value = 189

[State 180, 4]
type = Helper
triggerall = Var(10) = 0
triggerall = NumHelper(18000) = 0
trigger1 = MatchOver = 1
trigger2 = Time = 70
trigger3 = TeamMode = Turns
trigger3 = MatchOver = 0
trigger3 = Time = 60
id = 18000
stateno = 18000
pos = 0,0
keyctrl = 0

[State 180, 5]
type = ChangeState
trigger1 = MatchOver = 0
trigger1 = Time = 70
value = 181

[State 180, 6]
type = ChangeState
triggerall = MatchOver = 1
triggerall = Time = 20
trigger1 = Enemy(0),Name = "NewAkari"
trigger2 = Enemy(0),Name = "Akari Ichijo"
trigger3 = NumEnemy >= 2
trigger3 = Enemy(1),Name = "NewAkari" || Enemy(1),Name = "NewAkari"
trigger4 = NumEnemy >= 2
trigger4 = Enemy(0),Name = "Akari Ichijo" || Enemy(1),Name = "Akari Ichijo"
value = 185

[State 180, 7]
type = ChangeState
trigger1 = MatchOver = 1
trigger1 = Time = 20
trigger1 = Var(1) = 0
trigger1 = Var(16) != 16
value = 182

[State 180, 8]
type = ChangeState
trigger1 = MatchOver = 1
trigger1 = Time = 20
trigger1 = Var(1) = 0
trigger1 = Var(16) = 16
value = 183

[State 180, 9]
type = ChangeState
trigger1 = MatchOver = 1
trigger1 = Time = 20
trigger1 = Var(1) != 0
value = 184

;---------------------------------------------------------------------------
; 勝利ポーズ（ラウンド勝利時）
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 345
flag = RoundNotOver

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 3]
type = PlaySnd
trigger1 = AnimElem = 9
value = S23,3

[State 181, 3]
type = PlaySnd
trigger1 = AnimElem = 35
value = S23,4

[State 181, 3]
type = PlaySnd
trigger1 = AnimElem = 36
value = S7,8

[State 181, 5]
type = Helper
triggerall = TeamMode = Single || TeamMode = Turns
trigger1 = AnimElem = 39
trigger2 = Var(59) = 0
trigger2 = Command = "a" || Command = "b" || Command = "c"
trigger3 = Var(59) = 0
trigger3 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 181, 6]
type = RemoveExplod
trigger1 = NumHelper(10181) > 0
id = 189

;---------------------------------------------------------------------------
; 勝利ポーズ（最終勝利・力）
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = AssertSpecial
trigger1 = Time < 310
flag = RoundNotOver

[State 182, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = S7,7

[State 182, 4]
type = PlaySnd
trigger1 = AnimElem = 6
value = S23,5

[State 182, 5]
type = PlaySnd
trigger1 = AnimElem = 12
value = S7,0

[State 182, 6]
type = PlaySnd
trigger1 = AnimElem = 15
value = S100,8

[State 182, 7]
type = Explod
trigger1 = AnimElem = 6
anim = 15402
id = 15402
postype = P1
pos = 0,5
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 182, 8]
type = Explod
trigger1 = AnimElem = 12
anim = 15401
id = 15401
postype = P1
pos = 42,5
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 182, 9]
type = Explod
trigger1 = AnimElem = 12
anim = 15401
id = 15401
postype = P1
pos = 13,5
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 182, 10]
type = Explod
trigger1 = TeamSide = 1
trigger1 = AnimElem = 15
anim = 188
id = 188
pos = 60,70
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 182, 11]
type = Explod
trigger1 = TeamSide = 2
trigger1 = AnimElem = 15
anim = 188
id = 188
pos = -60,70
postype = Right
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 182, 12]
type = Helper
triggerall = TeamMode = Single || TeamMode = Turns
trigger1 = AnimElem = 16
trigger2 = Var(59) = 0
trigger2 = Command = "a" || Command = "b" || Command = "c"
trigger3 = Var(59) = 0
trigger3 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 182, 13]
type = RemoveExplod
trigger1 = NumHelper(10181) > 0
id = 188

[State 182, 14]
type = RemoveExplod
trigger1 = NumExplod(188) > 0
trigger2 = NumHelper(10181) > 0
id = 189

;[State 182, 15]
;type = ChangeState
;trigger1 = (Var(50) & 128)
;trigger1 = TeamMode = Single || TeamMode = Turns
;trigger1 = Time = 380
;value = 186

;---------------------------------------------------------------------------
; 勝利ポーズ（最終勝利・力タライ落下）
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 1]
type = AssertSpecial
trigger1 = Time < 425
flag = RoundNotOver

[State 183, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = S7,7

[State 183, 4]
type = PlaySnd
trigger1 = AnimElem = 6
value = S23,5

[State 183, 5]
type = PlaySnd
trigger1 = AnimElem = 12
value = S7,0

[State 183, 6]
type = PlaySnd
trigger1 = AnimElem = 19
value = S23,6

[State 183, 7]
type = PlaySnd
trigger1 = AnimElem = 28
value = S100,8

[State 183, 8]
type = Offset
trigger1 = AnimElemTime(15) > 1
trigger1 = AnimElemTime(16) < 0
trigger1 = Time%2 = 1
x = 1
y = 0

[State 183, 9]
type = Offset
trigger1 = AnimElemTime(15) > 1
trigger1 = AnimElemTime(16) < 0
trigger1 = Time%2 = 0
x = -1
y = 0

[State 183, 10]
type = Explod
trigger1 = AnimElem = 6
anim = 15402
id = 15402
postype = P1
pos = 0,5
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 183, 11]
type = Explod
trigger1 = AnimElem = 12
anim = 15401
id = 15401
postype = P1
pos = 42,5
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 183, 12]
type = Explod
trigger1 = AnimElem = 12
anim = 15401
id = 15401
postype = P1
pos = 13,5
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 183, 13]
type = Helper
trigger1 = AnimElemTime(14) = 0
trigger1 = NumHelper(10187) = 0
name = "Tub"
helpertype = Normal
stateno = 10187
id = 10187
pos = -20,-244
postype = p1
keyctrl = 0
ownpal = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State 183, 14]
type = Explod
trigger1 = TeamSide = 1
trigger1 = AnimElem = 28
anim = 188
id = 188
pos = 60,70
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 183, 15]
type = Explod
trigger1 = TeamSide = 2
trigger1 = AnimElem = 28
anim = 188
id = 188
pos = -60,70
postype = Right
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 183, 16]
type = Helper
triggerall = TeamMode = Single || TeamMode = Turns
trigger1 = AnimElem = 29
trigger2 = Var(59) = 0
trigger2 = Command = "a" || Command = "b" || Command = "c"
trigger3 = Var(59) = 0
trigger3 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 183, 17]
type = RemoveExplod
trigger1 = NumHelper(10181) > 0
id = 188

[State 183, 18]
type = RemoveExplod
trigger1 = NumExplod(188) > 0
trigger2 = NumHelper(10181) > 0
id = 189

;[State 183, 19]
;type = ChangeState
;trigger1 = (Var(50) & 128)
;trigger1 = TeamMode = Single || TeamMode = Turns
;trigger1 = Time = 380
;value = 186

;---------------------------------------------------------------------------
; 勝利ポーズ（最終勝利・技）
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 184, 1]
type = AssertSpecial
trigger1 = Time < 410
flag = RoundNotOver

[State 184, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 184, 3]
type = PlaySnd
trigger1 = AnimElem = 5
value = S23,7

[State 184, 4]
type = PlaySnd
trigger1 = AnimElem = 16
value = S23,8

[State 184, 5]
type = PlaySnd
trigger1 = AnimElem = 24
value = S100,8

[State 184, 6]
type = Explod
trigger1 = TeamSide = 1
trigger1 = AnimElem = 24
anim = 188
id = 188
pos = 60,70
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 184, 7]
type = Explod
trigger1 = TeamSide = 2
trigger1 = AnimElem = 24
anim = 188
id = 188
pos = -60,70
postype = Right
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 184, 8]
type = Helper
triggerall = TeamMode = Single || TeamMode = Turns
trigger1 = AnimElem = 25
trigger2 = Var(59) = 0
trigger2 = Command = "a" || Command = "b" || Command = "c"
trigger3 = Var(59) = 0
trigger3 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 184, 9]
type = RemoveExplod
trigger1 = NumHelper(10181) > 0
id = 188

[State 184, 10]
type = RemoveExplod
trigger1 = NumExplod(188) > 0
trigger2 = NumHelper(10181) > 0
id = 189

;[State 184, 11]
;type = ChangeState
;trigger1 = (Var(50) & 128)
;trigger1 = TeamMode = Single || TeamMode = Turns
;trigger1 = Time = 380
;value = 186

;---------------------------------------------------------------------------
; 勝利ポーズ（最終勝利・あかり専用）
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 185, 1]
type = AssertSpecial
trigger1 = Time < 425
flag = RoundNotOver

[State 185, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 185, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S23,9

[State 185, 4]
type = PlaySnd
trigger1 = AnimElem = 5
value = S23,10

[State 185, 6]
type = PlaySnd
trigger1 = AnimElem = 26
value = S100,8

[State 185, 7]
type = Explod
trigger1 = TeamSide = 1
trigger1 = AnimElem = 26
anim = 188
id = 188
pos = 60,70
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 185, 8]
type = Explod
trigger1 = TeamSide = 2
trigger1 = AnimElem = 26
anim = 188
id = 188
pos = -60,70
postype = Right
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 185, 9]
type = Helper
triggerall = TeamMode = Single || TeamMode = Turns
trigger1 = AnimElem = 27
trigger2 = Var(59) = 0
trigger2 = Command = "a" || Command = "b" || Command = "c"
trigger3 = Var(59) = 0
trigger3 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 185, 10]
type = RemoveExplod
trigger1 = NumHelper(10181) > 0
id = 188

[State 185, 11]
type = RemoveExplod
trigger1 = NumExplod(188) > 0
trigger2 = NumHelper(10181) > 0
id = 189

;[State 185, 12]
;type = ChangeState
;trigger1 = (Var(50) & 128)
;trigger1 = TeamMode = Single || TeamMode = Turns
;trigger1 = Time = 380
;value = 186

;---------------------------------------------------------------------------
; 勝利デモ
[Statedef 186]
type = A
ctrl = 0
anim = 10000
velset = 0,0

[State 186, 1]
type = AssertSpecial
trigger1 = Time = [0,480]
flag = RoundNotOver

[State 186, 2]
type = AssertSpecial
trigger1 = 1
flag  = NoShadow
flag2 = Invisible

[State 186, 3]
type = AssertSpecial
trigger1 = 1
flag  = NoFG
flag2 = NoMusic
flag3 = NoBarDisplay

[State 186, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 186, 5]
type = PlaySnd
trigger1 = Time = 0
value = S100,9

[State 186, 6]
type = Explod
trigger1 = Time = 0
anim = 9180
id = 9180
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 7]
type = Explod
trigger1 = Time = 0
anim = 9181
id = 9180
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 8]
type = Explod
triggerall = Time = 0
triggerall = NumExplod(9181) = 0
trigger1 = Enemy,Name = "Kojiroh Sanada"
trigger2 = Enemy,Name = "Kojiroh_Sanada"
trigger3 = Enemy,Name = "Sanada Kojiroh"
trigger4 = Enemy,Name = "Sanada_Kojiroh"
trigger5 = Enemy,Name = "真田 小次郎"
anim = 9185
id = 9181
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
trans = AddAlpha
alpha = 0,256
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 9]
type = Explod
triggerall = Time = 0
triggerall = NumExplod(9181) = 0
trigger1 = NumHelper(15120) > 0
trigger1 = Helper(15120),StateNo = 15121
anim = 9186
id = 9181
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
trans = AddAlpha
alpha = 0,256
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 10]
type = Explod
triggerall = Time = 0
triggerall = NumExplod(9181) = 0
trigger1 = ((1000*Life)/LifeMax) >= 800
anim = 9182
id = 9181
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
trans = AddAlpha
alpha = 0,256
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 11]
type = Explod
triggerall = Time = 0
triggerall = NumExplod(9181) = 0
trigger1 = ((1000*Life)/LifeMax) <= 250
anim = 9184
id = 9181
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
trans = AddAlpha
alpha = 0,256
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 12]
type = Explod
trigger1 = Time = 0
trigger1 = NumExplod(9181) = 0
anim = 9183
id = 9181
pos = 0,0
postype = Left
scale = 1,1
ontop = 1
ownpal = 1
trans = AddAlpha
alpha = 0,256
bindtime = -1
removetime = -1
removeongethit = 1
persistent = 0
ignorehitpause = 1

[State 186, 13]
type = ModifyExplod
trigger1 = Time = 13
id = 9181
trans = None

[State 186, 14]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "wipe_effect_open"
stateno = 10188
id = 10188
pos = 0,0
postype = Left
keyctrl = 0
ownpal = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 186, 15]
type = Helper
trigger1 = Time = 464
trigger2 = Var(59) = 0
trigger2 = Command = "a" || Command = "b" || Command = "c"
trigger3 = Var(59) = 0
trigger3 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = Left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

;---------------------------------------------------------------------------
; 完全勝利
[Statedef 189]
type = S
ctrl = 0
velset = 0,0

[State 189, 1]
type = AssertSpecial
trigger1 = 1
flag = RoundNotOver

[State 189, 2]
type = Helper
trigger1 = Time = 0
id = 18000
stateno = 18000
pos = 0,0
keyctrl = 0

[State 189, 3]
type = Explod
trigger1 = Time = 0
trigger1 = Var(10) > 0
anim = 189
id = 189
postype = Left
pos = 160,80
ontop = 1
ownpal = 1
bindtime = -1
removetime = -1

[State 189, 4]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Var(10) > 0
value = S100,7

[State 189, 5]
type = Helper
triggerall = Var(59) = 0
triggerall = TeamMode = Single || TeamMode = Turns
trigger1 = Command = "a" || Command = "b" || Command = "c"
trigger2 = Command = "x" || Command = "y" || Command = "z"
helpertype = normal
name = "wipe_effect_close"
stateno = 10181
id = 10181
pos = 0,0
postype = left
keyctrl = 0
persistent = 0
ignorehitpause = 1
pausemovetime = 999999999
supermovetime = 999999999

[State 189, 6]
type = ChangeState
trigger1 = Time = 100
trigger1 = MatchOver = 0
value = 181

[State 188, 7]
type = ChangeState
triggerall = Time = 100
triggerall = MatchOver = 1
trigger1 = Enemy(0),Name = "NewAkari"
trigger2 = Enemy(0),Name = "Akari Ichijo"
trigger3 = NumEnemy >= 2
trigger3 = Enemy(1),Name = "NewAkari" || Enemy(1),Name = "NewAkari"
trigger4 = NumEnemy >= 2
trigger4 = Enemy(0),Name = "Akari Ichijo" || Enemy(1),Name = "Akari Ichijo"
value = 185

[State 189, 8]
type = ChangeState
trigger1 = Time = 100
trigger1 = MatchOver = 1
trigger1 = Var(1) = 0
trigger1 = Var(16) != 16
value = 182

[State 189, 9]
type = ChangeState
trigger1 = Time = 100
trigger1 = MatchOver = 1
trigger1 = Var(1) = 0
trigger1 = Var(16) = 16
value = 183

[State 189, 10]
type = ChangeState
trigger1 = Time = 100
trigger1 = MatchOver = 1
trigger1 = Var(1) != 0
value = 184

[State 189, 11]
type = RemoveExplod
trigger1 = NumHelper(10181) > 0
id = 189

;---------------------------------------------------------------------------
; イントロ（団子）
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 190, 2]
type = AssertSpecial
trigger1 = Time < 340
flag = Intro

;カステラ・爆弾移行用
[State 190, 3]
type = VarRandom
trigger1 = Time = 0
v = 16
range = 1,16

[State 190, 4]
type = PlaySnd
trigger1 = AnimElem = 11
value = S23,0

[State 190, 5]
type = PlaySnd
trigger1 = AnimElem = 24
value = S23,1

;初期剣質決定
[State 190, style_1]
type = VarSet
triggerall = Time = 0
triggerall = RoundsExisted = 0
trigger1 = PalNo = 1
trigger2 = PalNo = 4
trigger3 = PalNo = 7
trigger4 = PalNo = 10
v = 1
value = 0

[State 190, style_2]
type = VarSet
triggerall = Time = 0
triggerall = RoundsExisted = 0
trigger1 = PalNo = 2
trigger2 = PalNo = 5
trigger3 = PalNo = 8
trigger4 = PalNo = 11
v = 1
value = 1

[State 190, style_3]
type = VarSet
triggerall = Time = 0
triggerall = RoundsExisted = 0
trigger1 = PalNo = 3
trigger2 = PalNo = 6
trigger3 = PalNo = 9
trigger4 = PalNo = 12
v = 1
value = 2

[State 190, 6]
type = Helper
trigger1 = Time = 0
trigger1 = NumHelper(10190) = 0
id = 10190
name = "style_select"
stateno = 10190+(Var(1)*2)
pos = IfElse(TeamMode = Simul, 0, -35),IfElse(TeamMode = Simul, -80, -20)
postype = P1
helpertype = Normal
size.xscale = IfElse(TeamMode = Simul, 0.5, 1.0)
size.yscale = IfElse(TeamMode = Simul, 0.5, 1.0)
facing = IfElse(TeamSide = 2, -1, 1)
keyctrl = 1
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 190, 7]
type = Helper
trigger1 = AnimElemTime(25) = 0
trigger1 = NumHelper(10198) = 0
name = "Dish"
helpertype = Normal
stateno = 10198
id = 10198
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State 190, 8]
type = ChangeState
triggerall = Time = 0
trigger1 = Enemy(0),Name = "NewAkari"
trigger2 = NumEnemy >= 2
trigger2 = Enemy(1),Name = "NewAkari" || Enemy(1),Name = "NewAkari"
value = 193

[State 190, 9]
type = ChangeState
triggerall = Time = 0
trigger1 = Enemy(0),Name = "Akari Ichijo"
trigger2 = NumEnemy >= 2
trigger2 = Enemy(0),Name = "Akari Ichijo" || Enemy(1),Name = "Akari Ichijo"
value = 194

[State 190, 10]
type = ChangeState
triggerall = Time = 0
trigger1 = Time = 0
trigger1 = Var(16) = [9,15]
value = 191

[State 190, 11]
type = ChangeState
triggerall = Time = 0
trigger1 = Time = 0
trigger1 = Var(16) = 16
value = 192

[State 190, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; イントロ（カステラ）
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, 2]
type = AssertSpecial
trigger1 = Time < 320
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = AnimElem = 10
value = S23,0

[State 191, 4]
type = PlaySnd
trigger1 = AnimElem = 23
value = S23,1

[State 191, 5]
type = Helper
trigger1 = AnimElemTime(24) = 0
trigger1 = NumHelper(10198) = 0
name = "Dish"
helpertype = Normal
stateno = 10198
id = 10198
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State 191, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; イントロ（爆弾）
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 192, 2]
type = AssertSpecial
trigger1 = Time < 320
flag = Intro

[State 192, 3]
type = PlaySnd
trigger1 = AnimElem = 15
value = S23,2

[State 192, 3]
type = PlaySnd
trigger1 = AnimElem = 15
value = S7,11

[State 192, 5]
type = Explod
trigger1 = Time = 0
anim = 199
id = 199
postype = P1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = 0
persistent = 0
ignorehitpause = 1

[State 192, 6]
type = Explod
trigger1 = AnimElemTime(15) = 0
anim = 15513
id = 15513
postype = P1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State 192, 7]
type = Helper
trigger1 = AnimElemTime(23) = 0
trigger1 = NumHelper(10198) = 0
name = "Dish"
helpertype = Normal
stateno = 10198
id = 10198
pos = 0,0
postype = p1
keyctrl = 0
ownpal = 1
sprpriority = 2
persistent = 0
ignorehitpause = 1

[State 192, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; イントロ（一条あかり専用）
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 193, 2]
type = AssertSpecial
trigger1 = Time < 320
flag = Intro

[State 193, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = S23,18

[State 193, 4]
type = PlaySnd
trigger1 = AnimElem = 28
value = S23,19

[State 193, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; イントロ（大垣さんあかり専用）
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 194, 2]
type = AssertSpecial
trigger1 = Time < 400
flag = Intro

[State 194, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = S23,18

[State 194, 4]
type = PlaySnd
trigger1 = AnimElem = 28
value = S23,19

[State 194, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; やられ分岐
[Statedef 5150]
type   = L
velset = 0,0

[State 5150, 1]
type = ScreenBound
triggerall = !Alive && MatchOver = 1
trigger1 = !(Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL")
value = 0

[State 5150, 2]
type = ChangeState
triggerall = Anim%10 = 0
triggerall = MatchOver = 0
trigger1 = P2StateNo = [180,189]
value = 5151

[State 5150, 3]
type = ChangeState
triggerall = Anim%10 = 1
triggerall = MatchOver = 0
trigger1 = P2StateNo = [180,189]
value = 5152

[State 5150, 4]
type = ChangeState
triggerall = Anim%10 = 0
triggerall = MatchOver = 1
trigger1 = P2StateNo = [180,189]
value = 5153

[State 5150, 5]
type = ChangeState
triggerall = Anim%10 = 1
triggerall = MatchOver = 1
trigger1 = P2StateNo = [180,189]
value = 5154

[State 5150, 6]
type = ChangeAnim
triggerall = Anim%10 = 0
triggerall = DrawGame
trigger1 = Time = 30
value = 5155

[State 5150, 7]
type = ChangeAnim
triggerall = Anim%10 = 1
triggerall = DrawGame
trigger1 = Time = 30
value = 5156

[State 5150, 8]
type = PlaySnd
trigger1 = Anim = 5155
trigger1 = AnimElem = 11
trigger2 = Anim = 5156
trigger2 = AnimElem = 10
value = S23,20

;---------------------------------------------------------------------------
; 敗北起きあがり（仰向け）
[Statedef 5151]
type   = L
velset = 0,0
anim = 5150
sprpriority = -1

[State 5151, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5151, 2]
type = ScreenBound
triggerall = Enemy,StateNo = [181,189]
trigger1 = Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL"
trigger2 = Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL"
trigger3 = Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL"
trigger4 = Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL"
trigger5 = Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL"
trigger6 = Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL"
trigger7 = Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL"
value = 0

[State 5151, 3]
type = ScreenBound
trigger1 = !(Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL")
value = 0

[State 5151, 4]
type = PlaySnd
trigger1 = AnimElem = 8
value = S23,11

[State 5151, 5]
type = PlaySnd
trigger1 = AnimElem = 11
value = S23,12

[State 5151, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 敗北起きあがり（うつ伏せ）
[Statedef 5152]
type   = L
velset = 0,0
anim = 5151
sprpriority = -1

[State 5152, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5152, 2]
type = ScreenBound
triggerall = Enemy,StateNo = [181,189]
trigger1 = Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL"
trigger2 = Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL"
trigger3 = Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL"
trigger4 = Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL"
trigger5 = Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL"
trigger6 = Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL"
trigger7 = Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL"
value = 0

[State 5152, 3]
type = ScreenBound
trigger1 = !(Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL")
value = 0

[State 5152, 4]
type = PlaySnd
trigger1 = AnimElem = 7
value = S23,11

[State 5152, 5]
type = PlaySnd
trigger1 = AnimElem = 10
value = S23,12

[State 5152, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 完全敗北（仰向け）
[Statedef 5153]
type   = L
velset = 0,0
anim = 5152
sprpriority = -1

[State 5153, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 5153, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5153, 3]
type = ScreenBound
triggerall = Enemy,StateNo = [180,189]
trigger1 = Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL"
trigger2 = Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL"
trigger3 = Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL"
trigger4 = Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL"
trigger5 = Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL"
trigger6 = Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL"
trigger7 = Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL"
value = 0

[State 5153, 4]
type = ScreenBound
trigger1 = !(Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL")
value = 0

[State 5153, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 完全敗北（うつ伏せ）
[Statedef 5154]
type   = L
velset = 0,0
anim = 5153
sprpriority = -1

[State 5154, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 5154, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5154, 3]
type = ScreenBound
triggerall = Enemy,StateNo = [180,189]
trigger1 = Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL"
trigger2 = Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL"
trigger3 = Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL"
trigger4 = Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL"
trigger5 = Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL"
trigger6 = Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL"
trigger7 = Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL"
value = 0

[State 5154, 4]
type = ScreenBound
trigger1 = !(Enemy,Name = "Genbu no Okina" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Inaba Tewi" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Shinnosuke Kagami" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Mukuro" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Moriya Minakata" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Kojiroh Sanada" && Enemy,AuthorName = "HAL")
trigger1 = !(Enemy,Name = "Juzo Kanzaki" && Enemy,AuthorName = "HAL")
value = 0

[State 5154, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 195
ctrl = 0
sprpriority = 2

[State 195, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 195, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = S23,16

[State 195, 3]
type = PlaySnd
trigger1 = AnimElem = 16
value = S23,17

[State 195, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 5A
[Statedef 200]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 200
ctrl = 0
poweradd = 0
sprpriority = 2

[State 200, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,3

;力
[State 200, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 0,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 200

;技
[State 200, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(8*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 31,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 200

;極
[State 200, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(9*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 31,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 200

[State 200, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 200, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 200, 6]
type = ChangeState
trigger1 = Var(1) = 0
trigger1 = MoveGuarded
value = 700

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 5A（連殺斬中）
[Statedef 201]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 201
ctrl = 0
poweradd = 0
sprpriority = 2

[State 201, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 201, 2]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,3

;技
[State 201, 3]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(8*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 31,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 201

;極
[State 201, 4]
type = HitDef
trigger1 = Var(1) != 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(9*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 31,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 201

[State 201, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 201, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 201, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 5A・A
[Statedef 202]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 202
ctrl = 0
poweradd = 0
sprpriority = 2

[State 202, 1]
type = PosAdd
trigger1 = AnimElem = 1
x = 12

[State 202, 2]
type = PosAdd
trigger1 = AnimElem = 6
x = -12

[State 202, 3]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 202, 4]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S0,0

;技
[State 202, 5]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(8*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 31,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -13,-80
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3.75,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7.25
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 202

;極
[State 202, 6]
type = HitDef
trigger1 = Var(1) != 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(9*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 31,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -13,-80
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3.75,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7.25
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 202

[State 202, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 202, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 202, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 4A
[Statedef 205]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 205
ctrl = 0
poweradd = 0
sprpriority = 2

[State 205, 1]
type = PosAdd
trigger1 = AnimElem = 1
x = 12

[State 205, 2]
type = PosAdd
trigger1 = AnimTime = 0
x = -12

[State 205, 3]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 205, 4]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S0,0

;力
[State 205, 5]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -13,-80
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 12
guard.velocity = -4.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 205

;技
[State 205, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(8*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 31,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -13,-80
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -4.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 205

;極
[State 205, 7]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = S,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(9*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 31,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -13,-80
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -4.25
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5,0
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 205

[State 205, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 205, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 205, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 5B
[Statedef 210]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 210
ctrl = 0
poweradd = 0
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S21,0+(Random%4)
channel = 0

[State 210, 2]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S0,3

;力
[State 210, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(30*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 0,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 14
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 210

;技
[State 210, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(16*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 210

;極
[State 210, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 210

[State 210, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 15401
id = 15401
postype = P1
pos = 80,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 210, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 210, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 210, 6]
type = ChangeState
trigger1 = Var(1) = 0
trigger1 = MoveGuarded
value = 701

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 5B（連殺斬中）
[Statedef 211]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 211
ctrl = 0
poweradd = 0
sprpriority = 2

[State 211, 1]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S21,0+(Random%4)
channel = 0

[State 211, 2]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S0,3

;技
[State 211, 3]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(23*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 211

;極
[State 211, 4]
type = HitDef
trigger1 = Var(1) != 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(27*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 211

[State 211, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 15401
id = 15401
postype = P1
pos = 80,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 211, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 211, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 211, 5]
type = ChangeState
trigger1 = Var(1) = 0
trigger1 = MoveGuarded
value = 701

[State 211, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 6B
[Statedef 220]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = ifelse(Var(1) = 0, 220, 221)
ctrl = 0
poweradd = 0
sprpriority = 2

[State 220, 1]
type = PosAdd
trigger1 = AnimElem = 6
x = 36

[State 220, 2]
type = PosAdd
trigger1 = AnimElem = 10
x = -12

[State 220, 3]
type = PosAdd
trigger1 = AnimElem = 11
x = -24

[State 220, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S21,0+(Random%4)
channel = 0

[State 220, 5]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = S0,3

[State 220, 6]
type = EnvShake
trigger1 = AnimElemTime(6) = 0
time = 12
freq = 60
ampl = 4
phase = -90

;力
[State 220, 7]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 6
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(50*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(6*FVar(2))
getpower = 188,94
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 0,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -38,-27
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 17
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -8.5,0
air.type = High
air.hittime = 28
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12.75
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -8.75
airguard.cornerpush.veloff = -8.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 220

[State 220, 7]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 6
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(50*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(6*FVar(2))
getpower = 188,94
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 0,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -38,-27
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 17
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

;技
[State 220, 8]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 6
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(23*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -38,-27
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 16
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -8.5,0
air.type = High
air.hittime = 28
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12.75
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -8.75
airguard.cornerpush.veloff = -8.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 220

[State 220, 8]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 6
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(23*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -38,-27
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 16
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

;極
[State 220, 9]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 6
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(27*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -38,-27
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 16
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -8.5,0
air.type = High
air.hittime = 28
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12.75
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -8.75
airguard.cornerpush.veloff = -8.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 220

[State 220, 9]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 6
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(27*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -38,-27
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 16
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

[State 220, Explod]
type = Explod
trigger1 = AnimElemTime(6) = 0
anim = 15401
id = 15401
postype = P1
pos = 140,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 220, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 220, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 220, 10]
type = ChangeState
trigger1 = Var(1) = 0
trigger1 = MoveGuarded
value = 710

[State 220, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 5C
[Statedef 230]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 230
ctrl = 0
poweradd = 0
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S20,0+(Random%4)
channel = 0

[State 230, 2]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S0,1

;力
[State 230, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != L
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-30
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 230

[State 230, 4]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = !MoveContact && !MoveReversed
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-15
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 231
nochainid = 231

[State 230, 4]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = !MoveContact && !MoveReversed
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-15
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 231,1601

;技
[State 230, 5]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != L
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(14*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-30
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 230

[State 230, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = !MoveContact && !MoveReversed
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(14*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-15
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 231
nochainid = 231

[State 230, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = !MoveContact && !MoveReversed
trigger1 = NumTarget(1600) > 0
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(14*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-15
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 231,1601

;極
[State 230, 7]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != L
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(16*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-30
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.75
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 230

[State 230, 8]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = !MoveContact && !MoveReversed
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(16*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-15
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 231
nochainid = 231

[State 230, 8]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = !MoveContact && !MoveReversed
trigger1 = NumTarget(1600) > 0
trigger1 = AnimElemTime(4) >= 0
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(16*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-15
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 231,1601

[State 230, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 230, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 230, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 6C
[Statedef 240]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 240
ctrl = 0
poweradd = 0
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S21,0+(Random%4)
channel = 0

[State 240, 2]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S0,2

;力
[State 240, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != A
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(24*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -10,-80
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
id = 241

[State 240, 4]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType = A
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(24*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -10,-80
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3,-6.5
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
yaccel = .45
id = 240

;技
[State 240, 5]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != A
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -10,-80
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
id = 241

[State 240, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType = A
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -10,-80
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3,-6.5
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
yaccel = .45
id = 240

;極
[State 240, 7]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != A
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -10,-80
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -9,0
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
id = 241

[State 240, 8]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType = A
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -10,-80
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3,-6.5
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
yaccel = .45
id = 240

[State 240, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 240, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 240, PlaySnd]
type = PlaySnd
trigger1 = NumTarget(241) > 0
trigger1 = Time > 0
trigger1 = MoveHit = 1
value = S6,5
persistent = 0
ignorehitpause = 1

[State 240, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 6C（壁面まで吹っ飛び）
[Statedef 241]
type     = A
movetype = H
physics  = N
velset = 0,0
ctrl = 0

[State 241, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 241, 2]
type = ChangeAnim2
trigger1 = Time = 0
value = 241

[State 241, 3]
type = VelSet
trigger1 = Time = 0
x = -7.0

[State 241, 4]
type = VelMul
trigger1 = 1
x = 1.035

[State 241, 5]
type = ChangeState
triggerall = Time > 2
trigger1 = Time > 120
trigger2 = BackEdgeBodyDist < 5
trigger3 = FrontEdgeBodyDist < 5
value = 242
ctrl = 0

;---------------------------------------------------------------------------
; 6C（壁面に激突）
[Statedef 242]
type     = A
movetype = H
physics  = N
ctrl = 0

[State 242, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 242, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 242, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 242

[State 242, 4]
type = EnvShake
Trigger1 = Time = 0
time = 15
freq = 90
ampl = -3
phase = 90

[State 242, 5]
type = ChangeState
trigger1 = Time = 6
value = 243

;---------------------------------------------------------------------------
; 6C（相手落下）
[Statedef 243]
type     = A
movetype = H
physics  = N
ctrl = 0

[State 243, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 243, 2]
type = PlayerPush
trigger1 = Vel Y < 2.0
value = 0

[State 243, 3]
type = VelSet
trigger1 = Time = 0
y = -10

[State 243, 4]
type = VelSet
trigger1 = Time = 0
x = 2

[State 243, 5]
type = VelAdd
trigger1 = Time >= 0
y = .75

[State 243, 6]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 243, 7]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 243, 8]
type = ChangeAnim2
triggerall = Time = 0
trigger1  = Name = "sanada_ani" && AuthorName = "ohgaki"
trigger2  = Name = "Shigen_naoe" && AuthorName = "ohgaki"
trigger3  = Name = "kaede" && AuthorName = "ohgaki"
trigger4  = Name = "Setsuna" && AuthorName = "HSR"
trigger5  = Name = "Hibiki Takane" && AuthorName = "HSR"
trigger6  = Name = "Mukuro" && AuthorName = "ahuron"
trigger7  = Name = "Mukuro" && AuthorName = "HAL"
trigger8  = Name = "Shinnosuke Kagami" && AuthorName = "ahuron"
trigger9  = Name = "Shinnosuke Kagami" && AuthorName = "HAL"
trigger10 = Name = "Shinnosuke Kagami" && AuthorName = "ohgaki"
trigger11 = Name = "Ponta" && AuthorName = "ahuron"
trigger12 = Name = "Hyo Amano" && AuthorName = "abuhachi"
trigger13 = Name = "Kouryu" && AuthorName = "abuhachi"
trigger14 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
trigger15 = Name = "Lee Rekka" && AuthorName = "abuhachi"
trigger16 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger17 = Name = "zantetsu" && AuthorName = "HAL"
trigger18 = Name = "Moriya Minakata" && AuthorName = "HAL"
trigger19 = Name = "Kojiroh Sanada" && AuthorName = "HAL"
trigger20 = Name = "Juzo Kanzaki" && AuthorName = "HAL"
trigger21 = Name = "Shikyoh" && AuthorName = "ohgaki"
trigger22 = Name = "Akari Ichijo" && AuthorName = "ohgaki"
trigger23 = Name = "washizuka" && AuthorName = "ohgaki"
trigger24 = Name = "Yuki" && AuthorName = "ohgaki"
trigger25 = Name = "Maede" && AuthorName = "ohgaki"
trigger26 = Name = "Inaba Tewi" && AuthorName = "HAL"
trigger27 = Name = "Kanna" && AuthorName = "ohgaki"
trigger28 = Name = "Nayu" && AuthorName = "ohgaki"
trigger29 = Name = "Chibi Suika" && AuthorName = "ohgaki"
trigger30 = Name = "Unyuho" && AuthorName = "ohgaki"
value = 243

[State 243, 9]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 243, 10]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 243, 11]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 244

;---------------------------------------------------------------------------
; 6C（相手ダウン）
[Statedef 244]
type     = L
movetype = H
physics  = N
velset = 0,0
ctrl = 0

[State 244, 1]
type = ChangeAnim
triggerall = Time = 0
trigger1 = !SelfAnimExist(5110)
trigger1 = !SelfAnimExist(5170)
value = 244

[State 244, 2]
type = ChangeAnim
triggerall = Time = 0
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5170)
value = 5170

[State 244, 3]
type = ChangeAnim
triggerall = Time = 0
trigger1  = Name = "sanada_ani" && AuthorName = "ohgaki"
trigger2  = Name = "Shigen_naoe" && AuthorName = "ohgaki"
trigger3  = Name = "kaede" && AuthorName = "ohgaki"
trigger4  = Name = "Setsuna" && AuthorName = "HSR"
trigger5  = Name = "Hibiki Takane" && AuthorName = "HSR"
trigger6  = Name = "Mukuro" && AuthorName = "ahuron"
trigger7  = Name = "Mukuro" && AuthorName = "HAL"
trigger8  = Name = "Shinnosuke Kagami" && AuthorName = "ahuron"
trigger9  = Name = "Shinnosuke Kagami" && AuthorName = "HAL"
trigger10 = Name = "Shinnosuke Kagami" && AuthorName = "ohgaki"
trigger11 = Name = "Ponta" && AuthorName = "ahuron"
trigger12 = Name = "Hyo Amano" && AuthorName = "abuhachi"
trigger13 = Name = "Kouryu" && AuthorName = "abuhachi"
trigger14 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
trigger15 = Name = "Lee Rekka" && AuthorName = "abuhachi"
trigger16 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger17 = Name = "zantetsu" && AuthorName = "HAL"
trigger18 = Name = "Moriya Minakata" && AuthorName = "HAL"
trigger19 = Name = "Kojiroh Sanada" && AuthorName = "HAL"
trigger20 = Name = "Juzo Kanzaki" && AuthorName = "HAL"
trigger21 = Name = "Shikyoh" && AuthorName = "ohgaki"
trigger22 = Name = "Akari Ichijo" && AuthorName = "ohgaki"
trigger23 = Name = "washizuka" && AuthorName = "ohgaki"
trigger24 = Name = "Yuki" && AuthorName = "ohgaki"
trigger25 = Name = "Maede" && AuthorName = "ohgaki"
trigger26 = Name = "Inaba Tewi" && AuthorName = "HAL"
trigger27 = Name = "Kanna" && AuthorName = "ohgaki"
trigger28 = Name = "Nayu" && AuthorName = "ohgaki"
trigger29 = Name = "Chibi Suika" && AuthorName = "ohgaki"
trigger30 = Name = "Unyuho" && AuthorName = "ohgaki" && SelfAnimExist(5081) && SelfAnimExist(5111)
value = 5081

[State 244, 4]
type = ChangeAnim
triggerall = Anim = 5081
triggerall = Time = 20 || AnimTime = 0
trigger1  = Name = "sanada_ani" && AuthorName = "ohgaki"
trigger2  = Name = "Shigen_naoe" && AuthorName = "ohgaki"
trigger3  = Name = "kaede" && AuthorName = "ohgaki"
trigger4  = Name = "Setsuna" && AuthorName = "HSR"
trigger5  = Name = "Hibiki Takane" && AuthorName = "HSR"
trigger6  = Name = "Mukuro" && AuthorName = "ahuron"
trigger7  = Name = "Mukuro" && AuthorName = "HAL"
trigger8  = Name = "Shinnosuke Kagami" && AuthorName = "ahuron"
trigger9  = Name = "Shinnosuke Kagami" && AuthorName = "HAL"
trigger10 = Name = "Shinnosuke Kagami" && AuthorName = "ohgaki"
trigger11 = Name = "Ponta" && AuthorName = "ahuron"
trigger12 = Name = "Hyo Amano" && AuthorName = "abuhachi"
trigger13 = Name = "Kouryu" && AuthorName = "abuhachi"
trigger14 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
trigger15 = Name = "Lee Rekka" && AuthorName = "abuhachi"
trigger16 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger17 = Name = "zantetsu" && AuthorName = "HAL"
trigger18 = Name = "Moriya Minakata" && AuthorName = "HAL"
trigger19 = Name = "Kojiroh Sanada" && AuthorName = "HAL"
trigger20 = Name = "Juzo Kanzaki" && AuthorName = "HAL"
trigger21 = Name = "Shikyoh" && AuthorName = "ohgaki"
trigger22 = Name = "Akari Ichijo" && AuthorName = "ohgaki"
trigger23 = Name = "washizuka" && AuthorName = "ohgaki"
trigger24 = Name = "Yuki" && AuthorName = "ohgaki"
trigger25 = Name = "Maede" && AuthorName = "ohgaki"
trigger26 = Name = "Inaba Tewi" && AuthorName = "HAL"
trigger27 = Name = "Kanna" && AuthorName = "ohgaki"
trigger28 = Name = "Nayu" && AuthorName = "ohgaki"
trigger29 = Name = "Chibi Suika" && AuthorName = "ohgaki"
trigger30 = Name = "Unyuho" && AuthorName = "ohgaki" && SelfAnimExist(5081) && SelfAnimExist(5111)
value = 5111

[State 244, 5]
type = ChangeAnim
trigger1 = Anim = 244 || Anim = 5170
trigger1 = AnimTime = 0
value = 5110

[State 244, 6]
type = EnvShake
trigger1 = Time = 0
time = 5
freq = 120
ampl = 6
phase = -1

[State 244, 7]
type = PosSet
trigger1 = 1
y = 0

[State 244, 8]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 244, 9]
type = SelfState
trigger1 = Time = 5
trigger1 = Life = 0 || !Alive
value = 5110

[State 244, 10]
type = SelfState
trigger1 = Time = 30
value = 5120

;---------------------------------------------------------------------------
; ダッシュ攻撃（上段）
[Statedef 250]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 6.0625,0
anim = 250
ctrl = 0
poweradd = 0
sprpriority = 2

[State 250, 1]
type = VelSet
trigger1 = Vel X < 1.0
x = 0

[State 250, 2]
type = VelAdd
trigger1 = Vel X > 0
x = -0.3125

[State 250, 3]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S21,0+(Random%4)
channel = 0

[State 250, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S0,3

;力
[State 250, 5]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(26*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 0,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 14
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -7,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -11.5
air.cornerpush.veloff = -9
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 250

;技
[State 250, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -7,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -11.5
air.cornerpush.veloff = -9
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 250

;極
[State 250, 7]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-83
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = High
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -7,0
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -11.5
air.cornerpush.veloff = -9
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 250

[State 250, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 15401
id = 15401
postype = P1
pos = 80,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 250, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 250, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 250, 8]
type = ChangeState
trigger1 = Var(1) = 0
trigger1 = MoveGuarded
value = 701

[State 250, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; B+C（ガー不）
[Statedef 260]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 260
ctrl = 0
poweradd = 0
sprpriority = 2

[State 260, 1]
type = PosAdd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 16
x = -20

[State 260, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = -16

[State 260, 3]
type = PosAdd
trigger1 = AnimElem = 14
x = -8

[State 260, 4]
type = PosAdd
trigger1 = AnimTime = 0
x = 8

[State 260, 5]
type = PosAdd
trigger1 = AnimElem = 7
x = 16

[State 260, 6]
type = PosAdd
trigger1 = AnimElem = 8
x = 20

[State 260, 7]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 260, 8]
type = VarAdd
trigger1 = AnimElemTime(3) >= 0
trigger1 = Time%4 = 0
trigger1 = Var(12) < 8
var(12) = 1

[State 260, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 15507
id = 15507
pos = 0,0
scale = 1,1
sprpriority = 3
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999
pausemovetime = 999999999

[State 260, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 15508
id = 15508
pos = 0,0
scale = 1,1
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999999999
pausemovetime = 999999999

[State 260, ModifyExplod]
type = ModifyExplod
trigger1 = 1
id = 15507
sprpriority = 3
postype = P1
pos = 0,2+Floor(Var(12)/2)
scale = 1,Var(12)/8.0

[State 260, ModifyExplod]
type = ModifyExplod
trigger1 = 1
id = 15508
postype = P1
pos = 0,-1-Floor(Var(12)/2)
scale = 1,Var(12)/8.0

[State 260, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(9) >= 0
id = 15507

[State 260, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(9) >= 0
id = 15508

;発生ディレイ
[State 260, 9]
type = ChangeAnim
trigger1 = StateNo = 260 && AnimElemTime(5) = 1
trigger1 = Command = "hold_b" && Command = "hold_c" || Command = "holdz"
trigger1 = Time = [42,61]
value = 260
elem = 5

;ディレイ解除
[State 260, 10]
type = ChangeAnim
trigger1 = StateNo = 260 && AnimElemTime(6) < 0
trigger1 = Command != "hold_b" && Command != "hold_c" && Command != "holdz"
trigger1 = Time >= 61
value = 260
elem = 6

[State 260, 11]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = S24,2
channel = 0

[State 260, 12]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = S0,3

[State 260, 13]
type = HitDef
trigger1 = Var(9) = 0
trigger1 = AnimElem = 9
attr = S,NA
animtype = Hard
guardflag = 
hitflag = MAF
damage = Floor(Ceil(63*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 188,188
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 16,16
guard.pausetime = 16,16
sparkno = S15003
guard.sparkno = S15200
sparkxy = -12,-83
hitsound = S3,5+(Random%7)
guardsound = S5,0+(Random%2)
guard.hittime = 27
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -6.5,-6.5
air.type = High
air.hittime = 27
air.velocity = -6.5,-6.5
airguard.velocity = -6.5,-6.5
ground.cornerpush.veloff = -20
air.cornerpush.veloff = -20
guard.cornerpush.veloff = -20
airguard.cornerpush.veloff = -20
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .70
id = 260
fall = 1
fall.recover = 0

[State 260, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 260, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 260, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガー不（吹き飛び１）
[Statedef 265]
type     = U
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 265, 1]
type = SelfState
trigger1 = StateType != A
trigger1 = StateType != L
value = IfElse(StateType = S, 5000, 5010)

[State 265, 2]
type = ChangeAnim2
trigger1 = Time = 0
value = 265

[State 265, 3]
type = VelSet
trigger1 = Time = 0
x = -6.5
y = -6.5

[State 265, 4]
type = VelAdd
trigger1 = Time > 0
y = 0.7

[State 265, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 266

;---------------------------------------------------------------------------
; ガー不（吹き飛び２）
[Statedef 266]
type     = L
movetype = H
physics  = N
velset = -9,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 266, 1]
type = ChangeAnim
triggerall = Anim != 277
triggerall = Time < 6
trigger1 = SelfAnimExist(5100)
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5170)
value = 5100

[State 266, 2]
type = ChangeAnim2
triggerall = Time = 0
trigger1 = !SelfAnimExist(5100)
trigger1 = !SelfAnimExist(5110)
trigger1 = !SelfAnimExist(5170)
value = 266

[State 266, 3]
type = ChangeAnim
triggerall = Time = 0
trigger1 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger2 = Name = "Moriya Minakata" && AuthorName = "HAL"
value = 277

[State 266, 4]
type = ChangeAnim
triggerall = Anim = 5100
triggerall = Time = 6
trigger1 = SelfAnimExist(5100)
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5170)
value = 5170

[State 266, 5]
type = ChangeAnim
triggerall = Time = 6
trigger1  = Name = "Shigen_naoe" && AuthorName = "ohgaki"
trigger2  = Name = "sanada_ani" && AuthorName = "ohgaki"
trigger3  = Name = "kaede" && AuthorName = "ohgaki"
trigger4  = Name = "Shinnosuke Kagami" && AuthorName = "ohgaki"
trigger5  = Name = "Shikyoh" && AuthorName = "ohgaki"
trigger6  = Name = "andrew" && AuthorName = "ohgaki"
trigger7  = Name = "Kyoshiro" && AuthorName = "ohgaki"
trigger8  = Name = "Yoshitora" && AuthorName = "ohgaki"
trigger9  = Name = "Kanna" && AuthorName = "ohgaki"
trigger10 = Name = "rock" && AuthorName = "ohgaki"
trigger11 = Name = "Chibi Suika" && AuthorName = "ohgaki"
trigger12 = Name = "Shiki" && AuthorName = "ohgaki"
trigger13 = Name = "washizuka" && AuthorName = "ohgaki"
trigger14 = Name = "Yuki" && AuthorName = "ohgaki"
trigger15 = Name = "Maede" && AuthorName = "ohgaki"
value = 5160

[State 266, 6]
type = ChangeAnim
trigger1 = Anim = 277 || Anim = 5160 || Anim = 5170
trigger1 = AnimTime = 0
value = 5110

[State 266, 7]
type = EnvShake
trigger1 = Time = 0
time = 5
freq = 120
ampl = 6
phase = -1

[State 266, 8]
type = PosSet
trigger1 = 1
y = 0

[State 266, 9]
type = VelMul
trigger1 = 1
x = 0.85

[State 266, 10]
type = SelfState
trigger1 = Time = 20
trigger1 = Life = 0 || !Alive
value = 5110

[State 266, 11]
type = SelfState
trigger1 = Anim = 266
trigger1 = AnimTime = 0
trigger2 = Time = 55
value = 5120

;---------------------------------------------------------------------------
; B+C（中段）
[Statedef 270]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 270
ctrl = 0
poweradd = 0
sprpriority = 2

[State 270, 1]
type = PosAdd
trigger1 = AnimElem = 5
x = 20

[State 270, 2]
type = PosAdd
trigger1 = AnimElem = 8
x = -20

[State 270, 3]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = S0,3

[State 270, 4]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = S21,0+(Random%4)
channel = 0

;技
[State 270, 5]
type = HitDef
triggerall = Var(1) = 1
triggerall = Var(9) = 0
triggerall = !(MoveContact || MoveReversed)
triggerall = Enemy,StateType = A
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,NA
animtype = Up
guardflag = H
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15002
guard.sparkno = S15200
sparkxy = -30,-100
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1,-10
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -3.5
airguard.cornerpush.veloff = -3.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 270
fall = 0
fall.recover = 0

[State 270, 6]
type = HitDef
triggerall = Var(1) = 1
triggerall = Var(9) = 0
triggerall = !(MoveContact || MoveReversed)
triggerall = Enemy,StateType = C && Enemy,StateNo = [120,159]
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = H
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15002
guard.sparkno = S15200
sparkxy = -30,-100
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
ground.type = Low
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -10
air.type = Low
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -3.5
airguard.cornerpush.veloff = -3.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
forcestand = 1
yaccel = .45
id = 271
fall = 0
fall.recover = 0

[State 270, 7]
type = HitDef
triggerall = Var(1) = 1
triggerall = Var(9) = 0
triggerall = !(MoveContact || MoveReversed)
triggerall = Enemy,StateType = S || (Enemy,StateType != A && Enemy,StateNo != [120,159])
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,NA
animtype = Up
guardflag = H
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15002
guard.sparkno = S15200
sparkxy = -30,-100
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 9
guard.velocity = -1.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1.1,-13.5
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -3.5
airguard.cornerpush.veloff = -3.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .70
id = 272
fall = 1
fall.recover = 1
fall.recovertime = 9999

;極
[State 270, 8]
type = HitDef
triggerall = Var(1) != 1
triggerall = Var(9) = 0
triggerall = !(MoveContact || MoveReversed)
triggerall = Enemy,StateType = A
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,NA
animtype = Up
guardflag = H
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15002
guard.sparkno = S15200
sparkxy = -30,-100
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1,-10
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -3.5
airguard.cornerpush.veloff = -3.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 270
fall = 0
fall.recover = 0

[State 270, 9]
type = HitDef
triggerall = Var(1) != 1
triggerall = Var(9) = 0
triggerall = !(MoveContact || MoveReversed)
triggerall = Enemy,StateType = C && Enemy,StateNo = [120,159]
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,NA
animtype = Medium
guardflag = H
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15002
guard.sparkno = S15200
sparkxy = -30,-100
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
ground.type = Low
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -10
air.type = Low
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -3.5
airguard.cornerpush.veloff = -3.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
forcestand = 1
yaccel = .45
id = 271
fall = 0
fall.recover = 0

[State 270, 10]
type = HitDef
triggerall = Var(1) != 1
triggerall = Var(9) = 0
triggerall = !(MoveContact || MoveReversed)
triggerall = Enemy,StateType = S || (Enemy,StateType != A && Enemy,StateNo != [120,159])
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
attr = S,NA
animtype = Up
guardflag = H
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15002
guard.sparkno = S15200
sparkxy = -30,-100
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 9
guard.velocity = -2
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -1.1,-13.5
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -3.5
airguard.cornerpush.veloff = -3.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .70
id = 272
fall = 1
fall.recover = 1
fall.recovertime = 9999

[State 270, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 270, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 270, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 中段攻撃（相手よろけ）
[Statedef 275]
type     = S
movetype = H
physics  = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 275, 1]
type = ChangeState
Trigger1 = Time = 0
trigger1 = Life = 0 || !Alive
value = 3902

[State 275, 2]
type = Width
trigger1 = 1
edge = 0,0

[State 275, 3]
type = ChangeAnim2
Trigger1 = Time = 0
value = 275

[State 275, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5975)
value = 5975

[State 275, 5]
type = ChangeAnim
triggerall = Time = 0
trigger1 = Name = "Shinnosuke Kagami" && AuthorName = "Ahuron"
trigger2 = Name = "Mukuro" && AuthorName = "Ahuron"
trigger3 = Name = "Ponta" && AuthorName = "Ahuron"
value = 266
elem = 9

[State 275, 6]
type = ChangeAnim
triggerall = Time = 0
trigger1 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger2 = Name = "Moriya Minakata" && AuthorName = "HAL"
trigger3 = Name = "Shinnosuke Kagami" && AuthorName = "HAL"
trigger4 = Name = "Mukuro" && AuthorName = "HAL"
trigger5 = Name = "Kojiroh Sanada" && AuthorName = "HAL"
trigger6 = Name = "Juzo Kanzaki" && AuthorName = "HAL"
value = 5976

[State 275, 7]
type = VelSet
trigger1 = Time >= 0
x = -1.3

[State 275, 8]
type = VelSet
trigger1 = Time >= 58
x = 0

[State 275, 9]
type = SelfState
trigger1 = Time >= 50
trigger1 = AnimTime = 0
trigger2 = Time >= 62
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 中段攻撃（相手打ち上げ）
[Statedef 278]
type     = A
movetype = H
physics  = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 278, 1]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 278, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim = 5030
trigger1 = AnimTime = 0
trigger1 = SelfAnimExist(5035) = 1
value = 5035

[State 278, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5051) = 1
value = 5051

[State 278, 4]
type = ChangeAnim
trigger1 = Time = 4
trigger1 = Anim != 5051
trigger1 = SelfAnimExist(5061) = 0
trigger2 = Anim = 5035
trigger2 = AnimTime = 0
value = 5050

[State 278, 5]
type = ChangeAnim
triggerall = (Anim = 5030) || (Anim = 5051)
triggerall = SelfAnimExist(5061) = 1
trigger1 = Vel Y != 0
trigger1 = Vel Y > -3.0
value = 5061

[State 278, 6]
type = VelAdd
trigger1 = Time > 0
y = .70

[State 278, 7]
type = VelAdd
trigger1 = Time = 0
x = -1.1
y = -13.5

[State 278, 8]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; 8B（追い討ち・始動）
[Statedef 300]
type     = S
movetype = I
physics  = N
juggle   = 1
velset = 0,0
anim = 300
ctrl = 0
poweradd = 0
sprpriority = 2

[State 300, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 300, 1]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S6,3

[State 300, 2]
type = VelSet
trigger1 = AnimElemTime(2) = 0
x = P2BodyDist X * 0.04
y = -12.5

[State 300, 3];25F
type = VelAdd
trigger1 = AnimElemTime(2) >= 0
y = 1.0

[State 300, 4]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 301
ctrl = 0

;---------------------------------------------------------------------------
; 8B（追い討ち・攻撃）
[Statedef 301]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 301
ctrl = 0
poweradd = 0
sprpriority = 2

[State 301, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 301, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 301, 3]
type = PlaySnd
trigger1 = Time = 0
value = S21,0+(Random%4)
channel = 0

[State 301, 4]
type = PlaySnd
trigger1 = Time = 0
value = S6,4

[State 301, 5]
type = Explod
trigger1 = Time = 0
anim = 15509
id = 15509
postype = P1
pos = 12,-5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 301, 6]
type = EnvShake
trigger1 = Time = 0
time = 8
freq = 60
ampl = 3
phase = -90

[State 301, 7]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = S,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(IfElse(Var(1)=0,24,IfElse(Var(1)=1,21,25))*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = IfElse(Var(1)=0,31,16),0
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -3,-10
hitsound = S3,0+(Random%5)
ground.type = Low
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,0
air.velocity = 0,0
id = 300
nochainid = 300

[State 301, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 301, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
statetype = A

[State 301, 8]
type = VelSet
trigger1 = AnimElemTime(6) = 0
x = -5
y = -5

[State 301, 9]
type = VelAdd
trigger1 = AnimElemTime(6) > 0
y = 0.625

[State 301, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 301, 10]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 302
ctrl = 0

;---------------------------------------------------------------------------
; 3B（追い討ち・着地）
[Statedef 302]
type     = S
movetype = I
physics  = N
juggle   = 0
velset = 0,0
anim = 302
ctrl = 0
poweradd = 0
sprpriority = 2

[State 302, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 302, 2]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 302, 3]
type = PlaySnd
trigger1 = Time = 0
value = S6,4

[State 302, Explod]
type = Explod
trigger1 = Time = 0
anim = 15420
id = 15420
postype = P1
pos = 18,5
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 302, Explod]
type = Explod
trigger1 = Time = 0
anim = 15420
id = 15420
postype = P1
pos = -18,5
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 2
ignorehitpause = 1

[State 302, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 2A
[Statedef 400]
type     = C
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 400
ctrl = 0
poweradd = 0
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 400, 2]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S0,0

;力
[State 400, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = C,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -21,-43
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 400

;技
[State 400, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = C,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(13*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -21,-43
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 400

;極
[State 400, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = C,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -21,-43
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 400

[State 400, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 400, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 400, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 2A（連殺斬中）
[Statedef 401]
type     = C
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 401
ctrl = 0
poweradd = 0
sprpriority = 2

[State 401, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 401, 2]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S0,0

;力
[State 401, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = C,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -21,-43
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 401

;技
[State 401, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = C,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(13*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -21,-43
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 401

;極
[State 401, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = C,NA
animtype = Light
guardflag = M
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -21,-43
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.5
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -7
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.5
airguard.cornerpush.veloff = -5.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 401

[State 401, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 401, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 401, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 2B
[Statedef 410]
type     = C
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 410
ctrl = 0
poweradd = 0
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S21,0+(Random%4)
channel = 0

[State 410, 2]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S0,3

[State 410, 3]
type = EnvShake
trigger1 = AnimElemTime(4) = 0
time = 6
freq = 60
ampl = 2
phase = -90

;力
[State 410, 4]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = C,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(28*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 0,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -25,-30
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 14
guard.velocity = -4.25
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = Low
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 410

[State 410, 4]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 4
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = C,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(28*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 0,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -25,-30
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 14
guard.velocity = -4.25
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

;技
[State 410, 5]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = C,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(23*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -25,-30
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = Low
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 410

[State 410, 5]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 4
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = C,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(23*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -25,-30
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

;極
[State 410, 6]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = C,NA
animtype = Medium
guardflag = M
hitflag = MAF
damage = Floor(Ceil(27*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -25,-30
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = -8,0
air.type = Low
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -12
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7
airguard.cornerpush.veloff = -7
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 410

[State 410, 6]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 4
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = C,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(27*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -25,-30
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

[State 410, Explod]
type = Explod
trigger1 = AnimElemTime(4) = 0
anim = 15401
id = 15401
postype = P1
pos = 110,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 410, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 410, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 410, 7]
type = ChangeState
trigger1 = Var(1) = 0
trigger1 = MoveGuarded
value = 705

[State 410, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 2C
[Statedef 420]
type     = C
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 420
ctrl = 0
poweradd = 0
sprpriority = 2

[State 420, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 420, 2]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S0,1

;力
[State 420, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 2
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-12
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 420

[State 420, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 2
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = C,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-12
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

;技
[State 420, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 2
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(14*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-12
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 420

[State 420, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 2
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = C,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(14*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-12
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

;極
[State 420, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 2
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(16*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-12
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -6.75
air.cornerpush.veloff = -9.5
guard.cornerpush.veloff = -5.75
airguard.cornerpush.veloff = -5.75
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 420

[State 420, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = NumTarget(1600) > 0
trigger1 = Target(1600),Time <= 10
trigger1 = AnimElem = 2
trigger1 = P2StateType = L && Enemy,Pos Y = 0
attr = C,NA
animtype = Medium
guardflag = 
hitflag = MAFD
damage = Floor(Ceil(16*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S15000
guard.sparkno = S15200
sparkxy = -15,-12
hitsound = S3,0+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 11
guard.velocity = -3.25
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
id = 1601
nochainid = 1601

[State 420, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 420, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 420, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 3C
[Statedef 430]
type     = C
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 430
ctrl = 0
poweradd = 0
sprpriority = 2

[State 430, 1]
type = PosAdd
trigger1 = AnimElem = 9
x = 12

[State 430, 2]
type = PosAdd
trigger1 = AnimTime = 0
x = 20

[State 430, 3]
type = PosAdd
trigger1 = AnimElem = 1
x = -32

[State 430, 4]
type = VelSet
trigger1 = AnimElemTime(4) = 0
x = 3.0

[State 430, 5]
type = VelSet
trigger1 = AnimElemTime(6) >= 0
x = 0

[State 430, 6]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S21,0+(Random%4)
channel = 0

[State 430, 7]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S0,2

;力
[State 430, 8]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(26*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-40
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,-1
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
p2stateno = 431
yaccel = .45
id = 430
fall = 1
fall.recover = 0

[State 430, 9]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType = A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(26*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-40
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,-1
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 431

;技
[State 430, 10]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(21*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-40
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,-1
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
p2stateno = 431
yaccel = .45
id = 430
fall = 1
fall.recover = 0

[State 430, 11]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType = A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(21*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-40
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,-1
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 431

;極
[State 430, 12]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType != A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(25*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-40
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,-1
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
p2stateno = 431
yaccel = .45
id = 430
fall = 1
fall.recover = 0

[State 430, 13]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
trigger1 = P2StateType = A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(25*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -15,-40
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.5
ground.type = Low
ground.slidetime = 26
ground.hittime = 26
ground.velocity = 0,-1
air.type = High
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 431

[State 430, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 430, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 430, 14]
type = Null;TargetState
trigger1 = NumTarget
trigger1 = MoveHit
value = 431
id = 430
persistent = 0

[State 430, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 3C（相手落下）
[Statedef 431]
type     = A
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 431, 1]
type = HitFallSet
trigger1 = Time = 0
value = 0

[State 431, 2]
type = ChangeAnim2
trigger1 = Time = 0
value = 431

[State 431, 3]
type = VelAdd
trigger1 = AnimElem = 2
y = -1

[State 431, 4]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.45

[State 431, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 432

;---------------------------------------------------------------------------
; 3C（相手ダウン）
[Statedef 432]
type     = L
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 432, 1]
type = ChangeAnim
triggerall = Time = 0
trigger1 = !SelfAnimExist(5100)
trigger1 = !SelfAnimExist(5110)
trigger1 = !SelfAnimExist(5160)
trigger1 = !SelfAnimExist(5170)
value = 244

[State 432, 2]
type = ChangeAnim
triggerall = Time = 0
trigger1 = SelfAnimExist(5100)
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5160)
trigger1 = SelfAnimExist(5170)
value = 5100

[State 432, 3]
type = ChangeAnim
triggerall = Anim = 5100
triggerall = Time = 4
trigger1 = SelfAnimExist(5100)
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5160)
trigger1 = SelfAnimExist(5170)
value = 5160

[State 432, 4]
type = ChangeAnim
triggerall = Anim = 5160
triggerall = AnimTime = 0
trigger1 = SelfAnimExist(5100)
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5160)
trigger1 = SelfAnimExist(5170)
value = 5170

[State 432, 5]
type = ChangeAnim
triggerall = Anim = 5160
triggerall = AnimTime > 0
triggerall = AnimElemTime(AnimElemNo(0)+1) = 0
triggerall = AnimElemTime(AnimElemNo(0)) >= 5
trigger1 = SelfAnimExist(5100)
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5160)
trigger1 = SelfAnimExist(5170)
value = 5170

[State 432, 6]
type = ChangeAnim
trigger1 = Anim = 244 || Anim = 5170
trigger1 = AnimTime = 0
value = 5110

[State 432, 7]
type = EnvShake
trigger1 = Time = 0
time = 5
freq = 120
ampl = 6
phase = -1

[State 432, 8]
type = PosSet
trigger1 = 1
y = 0

[State 432, 9]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 432, 10]
type = SelfState
trigger1 = Time = 5
trigger1 = Life = 0 || !Alive
value = 5110

[State 432, 11]
type = SelfState
trigger1 = Time = 30
value = 5120

;---------------------------------------------------------------------------
; ダッシュ攻撃（下段）
[Statedef 440]
type     = C
movetype = A
physics  = N
juggle   = 1
velset = 7,0
anim = 440
ctrl = 0
poweradd = 0
sprpriority = 2

[State 440, 1]
type = VelMul
trigger1 = 1
x = 0.9

[State 440, 2]
type = VelSet
trigger1 = Vel X < 1.0
x = 0

[State 440, 3]
type = PosAdd
trigger1 = AnimTime = 0
x = 32

[State 440, 4]
type = PosAdd
trigger1 = AnimElem = 2
x = -32

[State 440, 5]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,2

[State 440, 6]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S21,0+(Random%4)
channel = 0

;力
[State 440, 7]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
trigger1 = P2StateType != A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(26*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -13,-43
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Trip
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,-1
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
p2stateno = 431
yaccel = .45
id = 440

[State 440, 8]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
trigger1 = P2StateType = A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(26*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -13,-43
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Trip
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,-1
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 441

;技
[State 440, 9]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
trigger1 = P2StateType != A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -13,-43
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Trip
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,-1
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
p2stateno = 431
yaccel = .45
id = 440

[State 440, 10]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
trigger1 = P2StateType = A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(19*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -13,-43
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Trip
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,-1
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 441

;極
[State 440, 11]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
trigger1 = P2StateType != A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -13,-43
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Trip
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,-1
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
p2stateno = 431
yaccel = .45
id = 440

[State 440, 12]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
trigger1 = P2StateType = A
attr = C,NA
animtype = Medium
guardflag = L
hitflag = MAF
damage = Floor(Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(2*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -13,-43
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 13
guard.velocity = -4.25
ground.type = Trip
ground.slidetime = 27
ground.hittime = 27
ground.velocity = 0,-1
air.type = High
air.hittime = 27
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = -10
guard.cornerpush.veloff = -7.5
airguard.cornerpush.veloff = -7.5
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 441

[State 440, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 440, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 440, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; A・B・C
[Statedef 500]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 500
ctrl = 0
poweradd = 0
sprpriority = 2

[State 500, 1]
type = VelSet
trigger1 = AnimElemTime(5) = 0
x = 3.0

[State 500, 2]
type = VelSet
trigger1 = AnimElemTime(7) >= 0
x = 0

[State 500, 3]
type = PosAdd
trigger1 = AnimElem = 7
x = 24

[State 500, 4]
type = PosAdd
trigger1 = AnimElem = 12
x = -24

[State 500, 5]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = S7,0

;技
[State 500, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = A,NA
animtype = Back
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(28*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
hitsound = S1,0+(Random%6)
guardsound = S5,0+(Random%2)
guard.hittime = 9
guard.velocity = -2
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -3.25,-10
air.type = High
air.hittime = 20
air.velocity = IfElse(Var(7)=0,-3.25,3.25*(Facing*EnemyNear,Facing)),-10
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -5
guard.cornerpush.veloff = -4
airguard.cornerpush.veloff = -4
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .75
id = 500
fall = 1
fall.recover = 0

;極
[State 500, 7]
type = HitDef
trigger1 = Var(1) != 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 7
attr = S,NA
animtype = Back
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(33*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(4*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 14,14
guard.pausetime = 14,14
hitsound = S1,0+(Random%6)
guardsound = S5,0+(Random%2)
guard.hittime = 9
guard.velocity = -2
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -3.25,-10
air.type = High
air.hittime = 20
air.velocity = IfElse(Var(7)=0,-3.25,3.25*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -3,-6.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -5
guard.cornerpush.veloff = -4
airguard.cornerpush.veloff = -4
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .75
id = 500
fall = 1
fall.recover = 0

[State 500, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 500, Explod]
type = Explod
trigger1 = AnimElemTime(7) = 0
anim = 15510
id = 15510
postype = P1
pos = 72,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 500, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 500, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; J5A
[Statedef 600]
type     = A
movetype = A
physics  = A
juggle   = 1
anim = 600
ctrl = 0
poweradd = 0
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S20,0+(Random%4)
channel = 0

[State 600, 2]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,0

;力
[State 600, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = A,NA
animtype = Light
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S15000
guard.sparkno = S15200
sparkxy = -11,-68
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 600

;技
[State 600, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = A,NA
animtype = Light
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(11*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S15000
guard.sparkno = S15200
sparkxy = -11,-68
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 600

;極
[State 600, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = A,NA
animtype = Light
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(13*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 4,4
guard.pausetime = 4,4
sparkno = S15000
guard.sparkno = S15200
sparkxy = -11,-68
hitsound = S3,0+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 600

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 600, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; J5B
[Statedef 610]
type     = A
movetype = A
physics  = A
juggle   = 1
anim = 610
ctrl = 0
poweradd = 0
sprpriority = 2

[State 610, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S21,0+(Random%4)
channel = 0

[State 610, 2]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,3

;力
[State 610, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = A,NA
animtype = Medium
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(28*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -11,-18
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 610

;技
[State 610, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = A,NA
animtype = Medium
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(13*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -11,-18
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 610

;極
[State 610, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 3
attr = A,NA
animtype = Medium
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 12,12
guard.pausetime = 12,12
sparkno = S15001
guard.sparkno = S15200
sparkxy = -11,-18
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 610

[State 610, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 610, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; J5C
[Statedef 620]
type     = A
movetype = A
physics  = A
juggle   = 1
anim = 620
ctrl = 0
poweradd = 0
sprpriority = 2

[State 620, 1]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S21,0+(Random%4)
channel = 0

[State 620, 2]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S0,2

;力
[State 620, 3]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 2
attr = A,NA
animtype = Medium
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(15*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 94,47
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -11,-47
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 620

;技
[State 620, 4]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 2
attr = A,NA
animtype = Medium
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(11*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 47,16
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -11,-47
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 620

;極
[State 620, 5]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 2
attr = A,NA
animtype = Medium
guardflag = HA
hitflag = MAF
damage = Floor(Ceil(13*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(1*FVar(2))
getpower = 47,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 4,Hit
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S15001
guard.sparkno = S15200
sparkxy = -11,-47
hitsound = S3,5+(Random%5)
guardsound = S5,2+(Random%2)
guard.hittime = 12
guard.velocity = -3.5
ground.type = High
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -4,0
air.type = Low
air.hittime = 21
air.velocity = IfElse(Var(7)=0,-3,3*(Facing*EnemyNear,Facing)),-6.5
airguard.velocity = -4.5,-5
ground.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
air.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.7*Vel Y)
guard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
airguard.cornerpush.veloff = ifelse(Vel Y <= 0,0,-0.6*Vel Y)
guard.kill = 0
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .45
id = 620

[State 620, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 620, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
; 立ち・武器弾かれ（５Ａ）
[Statedef 700]
type     = S
movetype = I
physics  = N
juggle   = 0
velset = 0,0
anim = 700
ctrl = 0
poweradd = 0
sprpriority = 2

[State 700, 1]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(2) < 0
trigger1 = Time%2 = 1
x = 1
y = 0

[State 700, 2]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(2) < 0
trigger1 = Time%2 = 0
x = -1
y = 0

[State 700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・武器弾かれ（５Ｂ・ダッシュ立ち攻撃）
[Statedef 701]
type     = S
movetype = I
physics  = N
juggle   = 0
velset = 0,0
anim = 701
ctrl = 0
poweradd = 0
sprpriority = 2

[State 701, 1]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(1) < 12
trigger1 = Time%2 = 1
x = 1
y = 0

[State 701, 2]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(1) < 12
trigger1 = Time%2 = 0
x = -1
y = 0

[State 701, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ・武器弾かれ（２Ｂ）
[Statedef 705]
type     = C
movetype = I
physics  = N
juggle   = 0
velset = 0,0
anim = 705
ctrl = 0
poweradd = 0
sprpriority = 2

[State 705, 1]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(2) < 0
trigger1 = Time%2 = 0
x = 1
y = 0

[State 705, 2]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(2) < 0
trigger1 = Time%2 = 1
x = -1
y = 0

[State 705, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・武器弾かれ（６Ｂ）
[Statedef 710]
type     = S
movetype = I
physics  = N
juggle   = 0
velset = 0,0
anim = 710
ctrl = 0
poweradd = 0
sprpriority = 2

[State 710, 1]
type = PosAdd
trigger1 = Time = 0
x = -36

[State 710, 2]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(1) < 15
trigger1 = Time%2 = 1
x = 1
y = 0

[State 710, 3]
type = Offset
trigger1 = AnimElemTime(1) > 1
trigger1 = AnimElemTime(1) < 15
trigger1 = Time%2 = 0
x = -1
y = 0

[State 710, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弾き（立ち）
[Statedef 750]
type     = S
movetype = A
physics  = N
velset = 0,0
anim = 750
ctrl = 0
poweradd = 0
sprpriority = 1

[State 750, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 750, PalFx]
type = PalFx
trigger1 = Time = 0
add = 60,60,60
time = 6
ignorehitpause = 1

[State 750, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 32
palcolor = 32
palcontrast = 128,96,256
paladd = 3,3,3
palmul = 1,1,1
length = 7
framegap = 2
trans = add1

;立ち、空中の奥義・通常・特殊技
[State 750, 2]
type = ReversalDef
trigger1 = Time = [0,5]
attr = S, NT
reversal.attr = SA, NA, SA, HA
numhits = 0
sparkno = -1
hitsound = -1,0
p1facing = 1
p1stateno = 755
p2stateno = 780
id = 750

;立ち、空中の通常・特殊技
[State 750, 3]
type = ReversalDef
trigger1 = Time = [6,9]
attr = S, NT
reversal.attr = SA, NA
numhits = 0
hitsound = -1,0
p1facing = 1
p1stateno = 755
p2stateno = 780
id = 750

;立ちの通常・特殊技
[State 750, 4]
type = ReversalDef
trigger1 = Time = [10,19]
attr = S, NT
reversal.attr = S, NA
numhits = 0
hitsound = -1,0
p1facing = 1
p1stateno = 755
p2stateno = 780

[State 750, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弾き（立ち・成功）
[Statedef 755]
type     = S
movetype = A
physics  = N
velset = 0,0
anim = 755
ctrl = 0
poweradd = 0
sprpriority = 2

[State 755, PalFx]
type = PalFx
trigger1 = Time = 0
add = 0,0,0
time = 0
ignorehitpause = 1

[State 755, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 755, 2]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S21,0+(Random%4)
channel = 0

[State 755, 3]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S0,3

[State 755, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S5,4+(Random%2)

[State 755, 5]
type = BGPalFx
trigger1 = Time = 4
trigger2 = Time = 8
add = -256,-256,256
time = 1
ignorehitpause = 1

[State 755, 6]
type = BGPalFx
trigger1 = Time = 6
trigger2 = Time = 10
add = 256,256,256
time = 1
ignorehitpause = 1

[State 755, 7]
type = Explod
trigger1 = AnimElemTime(4) = 1
anim = 15202
postype = P2
pos = -10,Enemy,Const(size.head.pos.y)+20;-70
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 1
persistent = 0
ignorehitpause = 1

[State 755, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弾き（しゃがみ）
[Statedef 760]
type     = C
movetype = A
physics  = N
velset = 0,0
anim = 760
ctrl = 0
poweradd = 0
sprpriority = 1

[State 760, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 760, PalFx]
type = PalFx
trigger1 = Time = 0
add = 60,60,60
time = 4
ignorehitpause = 1

[State 760, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 32
palcolor = 32
palcontrast = 128,96,256
paladd = 3,3,3
palmul = 1,1,1
length = 7
framegap = 2
trans = add1

;空中以外の奥義・通常・特殊技
[State 760, 2]
type = ReversalDef
trigger1 = Time = [0,3]
attr = S, NT
reversal.attr = SC, NA, SA, HA
numhits = 0
sparkno = -1
hitsound = -1,0
p1facing = 1
p1stateno = 765
p2stateno = 780
id = 750

;空中以外の通常・特殊技
[State 760, 3]
type = ReversalDef
trigger1 = Time = [4,11]
attr = S, NT
reversal.attr = SC, NA
numhits = 0
hitsound = -1,0
p1facing = 1
p1stateno = 765
p2stateno = 780
id = 750

[State 760, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; 弾き（しゃがみ・成功）
[Statedef 765]
type     = C
movetype = A
physics  = N
velset = 0,0
anim = 765
ctrl = 0
poweradd = 0
sprpriority = 2

[State 765, PalFx]
type = PalFx
trigger1 = Time = 0
add = 0,0,0
time = 0
ignorehitpause = 1

[State 765, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 765, 2]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S21,0+(Random%4)
channel = 0

[State 765, 3]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,3

[State 765, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S5,4+(Random%2)

[State 765, 5]
type = BGPalFx
trigger1 = Time = 4
trigger2 = Time = 8
add = -256,-256,256
time = 1
ignorehitpause = 1

[State 765, 6]
type = BGPalFx
trigger1 = Time = 6
trigger2 = Time = 10
add = 256,256,256
time = 1
ignorehitpause = 1

[State 765, 7]
type = Explod
trigger1 = AnimElemTime(3) = 0
anim = 15401
id = 15401
postype = P1
pos = 65,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 765, 8]
type = Explod
trigger1 = AnimElemTime(4) = 1
anim = 15202
postype = P2
pos = -10,Enemy,Const(size.head.pos.y)+20;-70
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 1
persistent = 0
ignorehitpause = 1

[State 765, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弾き（空中）
[Statedef 770]
type     = A
movetype = A
physics  = N
anim = 770
ctrl = 0
poweradd = 0
sprpriority = 1

[State 770, 1]
type = Gravity
trigger1 = 1

[State 770, 2]
type = AttackDist
trigger1 = 1
value = 0

[State 770, PalFx]
type = PalFx
trigger1 = Time = 0
add = 60,60,60
time = 4
ignorehitpause = 1

[State 770, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 32
palcolor = 32
palcontrast = 128,96,256
paladd = 3,3,3
palmul = 1,1,1
length = 7
framegap = 2
trans = add1

;奥義・通常・特殊技
[State 770, 3]
type = ReversalDef
trigger1 = Time = [0,3]
attr = S, NT
reversal.attr = SCA, NA, SA, HA
numhits = 0
sparkno = -1
hitsound = -1,0
p1facing = 1
p1stateno = 775
p2stateno = 780

;通常・特殊技
[State 770, 4]
type = ReversalDef
trigger1 = Time = [4,7]
attr = S, NT
reversal.attr = SCA, NA
numhits = 0
hitsound = -1,0
p1facing = 1
p1stateno = 775
p2stateno = 780

[State 770, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 771

;---------------------------------------------------------------------------
; 弾き（空中・着地よろけ）
[Statedef 771]
type     = S
movetype = I
physics  = N
velset = 0,0
anim = 771
ctrl = 0
poweradd = 0
sprpriority = 1

[State 771, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 771, 2]
type = PlaySnd
trigger1 = Time = 0
value = S6,4

[State 771, Explod]
type = Explod
trigger1 = Time = 0
anim = 15401
id = 15401
postype = P1
pos = 18,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 771, Explod]
type = Explod
trigger1 = Time = 0
anim = 15401
id = 15401
postype = P1
pos = -18,5
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 771, 3]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 771, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = P2Dist X < 0 && Ctrl
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弾き（空中・成功）
[Statedef 775]
type     = A
movetype = A
physics  = N
anim = 775
ctrl = 0
poweradd = 0
sprpriority = 2

[State 775, PalFx]
type = PalFx
trigger1 = Time = 0
add = 0,0,0
time = 0
ignorehitpause = 1

[State 775, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 775, 2]
type = VelSet
trigger1 = AnimElemTime(8) < 1
x = 0
y = 0

[State 775, 3]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S21,0+(Random%4)
channel = 0

[State 775, 4]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S0,3

[State 775, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S5,4+(Random%2)

[State 775, 6]
type = BGPalFx
trigger1 = Time = 4
trigger2 = Time = 8
add = -256,-256,256
time = 1
ignorehitpause = 1

[State 775, 7]
type = BGPalFx
trigger1 = Time = 6
trigger2 = Time = 10
add = 256,256,256
time = 1
ignorehitpause = 1

[State 775, 8]
type = Explod
trigger1 = AnimElemTime(4) = 1
anim = 15202
postype = P2
pos = -10,Enemy,Const(size.head.pos.y)+20;-70
facing = -1
ownpal = 1
bindtime = 1
sprpriority = 1
persistent = 0
ignorehitpause = 1

[State 775, 9]
type = CtrlSet
trigger1 = Time = 18
value = 1

[State 775, 10]
type = VelSet
trigger1 = AnimElemTime(8) = 0
x = 1
y = -5

[State 775, 11]
type = Gravity
trigger1 = AnimElemTime(8) >= 0

[State 775, 12]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; 弾かれる相手１
[Statedef 780]
type     = U
movetype = H
physics  = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 780, 1]
type = ChangeAnim
trigger1 = Time < 5
value = Anim
elem = AnimElemNo(0)

[State 780, 2]
type = ChangeState
trigger1 = Time >= 5
value = 781

;---------------------------------------------------------------------------
; 弾かれる相手２
[Statedef 781]
type     = U
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 781, HitBy]
type = HitBy
trigger1 = 1
value = SCA, AA, AT, AP

[State 781, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = AuthorName = "HAL"
value = 5005,0

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = AuthorName = "ohgaki"
value = 5910,0

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "Lee Rekka" && AuthorName = "abuhachi"
value = 0,14

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "Hyo Amano" && AuthorName = "abuhachi"
value = 0,16

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
value = 5000,4

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "Kouryu" && AuthorName = "abuhachi"
value = 0,22

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "Setsuna" && AuthorName = "HSR"
value = 10,10

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "Hibiki Takane" && AuthorName = "HSR"
value = 10,37

[State 781, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 2
trigger1 = Name = "NewAkari" && AuthorName = "Roque & Nanashi"
value = 800,1

[State 781, 1]
type = ChangeAnim2
trigger1 = StateType = S
trigger1 = Time = 0
value = 780

[State 781, 1]
type = ChangeAnim2
trigger1 = StateType = C
trigger1 = Time = 0
value = 781

[State 781, 1]
type = ChangeAnim2
trigger1 = StateType = A
trigger1 = Time = 0
value = 782

[State 781, 2]
type = StateTypeSet
trigger1 = Anim = 780
statetype = S

[State 781, 2]
type = StateTypeSet
trigger1 = Anim = 781
statetype = C

[State 781, 2]
type = StateTypeSet
trigger1 = Anim = 782
statetype = A

[State 781, 3]
type = ChangeAnim
trigger1 = Anim = 782
trigger1 = AnimTime = 0
value = 5040

[State 781, 4]
type = VelSet
trigger1 = Anim = 5040
trigger1 = AnimElem = 1
x = -1
y = -6

[State 781, 5]
type = VelAdd
trigger1 = Anim = 5040
y = 0.35

[State 781, NotHitBy]
type = NotHitBy
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
trigger1 = P2Dist X >= 0 || (Facing * EnemyNear,Facing = 1)
value = SCA, AA, AT, AP
time = 1

[State 781, 6]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52

[State 781, 6]
type = SelfState
triggerall = AnimTime = 0
trigger1 = Anim = 780
trigger2 = Anim = 781
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 弾き追加攻撃
[Statedef 790]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 7,0
anim = 790
ctrl = 0
poweradd = 0
sprpriority = 2

[State 790, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 790, 2]
type = VelMul
trigger1 = 1
x = 0.95

[State 790, 3]
type = VelSet
trigger1 = AnimElemTime(11) >= 0
x = 0

[State 790, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S21,0+(Random%4)

;力
[State 790, 5]
type = HitDef
trigger1 = Var(1) = 0
trigger1 = Var(9) = 0
trigger1 = AnimElem = 8
attr = S,NA
animtype = Hard
guardflag = 
hitflag = MAF
damage = Floor(Ceil(28*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 125,63
givepower = IfElse(Var(4)=1,31,0),0
priority = 7,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -12,-84
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -5.5,-6
air.type = High
air.hittime = 12
air.velocity = -5.5,-6
airguard.velocity = -5.5,-6
p1sprpriority = 2
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .60
id = 790
fall = 1
fall.recover = 0

;技
[State 790, 6]
type = HitDef
trigger1 = Var(1) = 1
trigger1 = Var(9) = 0
trigger1 = AnimElem = 8
attr = S,NA
animtype = Hard
guardflag = 
hitflag = MAF
damage = Floor(Ceil(23*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),0
getpower = 63,31
givepower = IfElse(Var(4)=1,31,0),0
priority = 7,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -12,-84
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -5.5,-6
air.type = High
air.hittime = 12
air.velocity = -5.5,-6
airguard.velocity = -5.5,-6
p1sprpriority = 2
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .60
id = 790
fall = 1
fall.recover = 0

;極
[State 790, 7]
type = HitDef
trigger1 = Var(1) = 2
trigger1 = Var(9) = 0
trigger1 = AnimElem = 8
attr = S,NA
animtype = Hard
guardflag = 
hitflag = MAF
damage = Floor(Ceil(27*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3),Ceil(3*FVar(2))
getpower = 63,IfElse(!(Var(50)&32),0,16)
givepower = IfElse(Var(4)=1,31,0),0
priority = 7,Hit
pausetime = 14,14
guard.pausetime = 14,14
sparkno = S15001
guard.sparkno = S15200
sparkxy = -12,-84
hitsound = S3,5+(Random%5)
guardsound = S5,0+(Random%2)
guard.hittime = 12
guard.velocity = -5.5
ground.type = High
ground.slidetime = 27
ground.hittime = 27
ground.velocity = -5.5,-6
air.type = High
air.hittime = 12
air.velocity = -5.5,-6
airguard.velocity = -5.5,-6
p1sprpriority = 2
p2facing = IfElse(Var(7)=0,1,0)
yaccel = .60
id = 790
fall = 1
fall.recover = 0

[State 790, HitCount]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 790, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガードキャンセル弾き
[Statedef 795]
type     = S
movetype = A
physics  = N
juggle   = 1
velset = 0,0
anim = 795
ctrl = 0
poweradd = 0
sprpriority = 2

[State 795, 1]
type = PowerAdd
trigger1 = Time = 0
value = -1000

[State 795, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 795, 3]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S0,3

[State 795, 4]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = S21,0+(Random%4)

[State 795, 5]
type = HitDef
trigger1 = Var(9) = 0
trigger1 = AnimElem = 4
attr = S,ST
animtype = Hard
guardflag = 
hitflag = MAFD
damage = 0,0
getpower = 0,0
givepower = 0,0
priority = 7,Hit
pausetime = 0,0
sparkno = S15220
sparkxy = -10,-60
hitsound = -1
p2facing = 1
p2stateno = 796
kill = 0

[State 795, Explod]
type = Explod
trigger1 = AnimElemTime(3) = 0
anim = 15401
id = 15401
postype = P1
pos = 80,5
ownpal = 1
bindtime = 1
sprpriority = 3
ignorehitpause = 1

[State 795, 6]
type = BGPalFx
trigger1 = MoveHit = 1
trigger2 = MoveHit = 5
add = -256,-256,256
time = 1

[State 795, 7]
type = BGPalFx
trigger1 = MoveHit = 3
trigger2 = MoveHit = 7
add = 256,256,256
time = 1

[State 795, 8]
type = VarAdd
trigger1 = Time > 0
trigger1 = MoveHit = 1
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 795, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ガードキャンセル弾き（相手）
[Statedef 796]
type     = A
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 796, HitBy]
type = HitBy
trigger1 = 1
value = SCA, AA, AT, AP

[State 796, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = AuthorName = "HAL"
value = 5005,0

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = AuthorName = "ohgaki"
value = 5910,0

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "Lee Rekka" && AuthorName = "abuhachi"
value = 0,14

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "Hyo Amano" && AuthorName = "abuhachi"
value = 0,16

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
value = 5000,4

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "Kouryu" && AuthorName = "abuhachi"
value = 0,22

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "Setsuna" && AuthorName = "HSR"
value = 10,10

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "Hibiki Takane" && AuthorName = "HSR"
value = 10,37

[State 796, Deflecting_Voice]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Name = "NewAkari" && AuthorName = "Roque & Nanashi"
value = 800,1

[State 796, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 782

[State 796, 2]
type = ChangeAnim
trigger1 = Anim = 782
trigger1 = AnimTime = 0
value = 5040;5210

[State 796, 3]
type = VelSet
trigger1 = Anim = 5040
trigger1 = AnimElem = 1
x = -1.25
y = -6

[State 796, 4]
type = VelAdd
trigger1 = Anim = 5040
y = 0.45

[State 796, NotHitBy]
type = NotHitBy
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
trigger1 = P2Dist X >= 0 || (Facing * EnemyNear,Facing = 1)
value = SCA, AA, AT, AP
time = 1

[State 796, 5]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; 投げ（始動）
[Statedef 800]
type     = S
movetype = A
physics  = N
juggle   = 0
velset = 0,0
anim = 800
ctrl = 0
sprpriority = 2

[State 800, 1]
type = AttackDist
trigger1 = 1
value = 0

[State 800, 2]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S24,0
channel = 0

[State 800, 3]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S0,2

[State 800, 4]
type = PosAdd
trigger1 = AnimElem = 3
x = 24

[State 800, 5]
type = PosAdd
trigger1 = AnimElem = 8
x = -24

[State 800, 6]
type = HitDef
triggerall = AnimElem = 1
triggerall = P2BodyDist X = [-25,5];原作だとX <= 1
trigger1 = P2MoveType != H
trigger2 = P2MoveType = H
trigger2 = P2StateNo = 275 || P2StateNo = 781 || P2StateNo = 2006
attr = S,NT
animtype = Light
hitflag = M-
guardflag = 
damage = 0,0
getpower = 0,0
givepower = 0,0
priority = 1,Miss
pausetime = 0,0
guard.pausetime = 0,0
;hitsound = 5,2
;guardsound = 6,0
ground.type = Low
ground.slidetime = 0
ground.hittime = 0
ground.velocity = 0,0
sprpriority = 1
p1facing = IfElse((Var(59) = 0 && Command = "holdback") || (Var(59) > 0 && FrontEdgeDist > 80), -1, 1)
p1stateno = 810
p2facing = 1
p2stateno = 815
id = 800
fall = 1
air.fall = 1
kill = 1
guard.kill = 0
guard.dist = 0

[State 800, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 投げ（投げている自分）
[Statedef 810]
type     = S
movetype = A
physics  = N
velset = 0,0
anim = 810
ctrl = 0
poweradd = 0

[State 810, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, 2]
type = PosAdd
trigger1 = AnimElem = 1
x = 24

[State 810, 3]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = S5,3

[State 810, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = S24,1
channel = 0

[State 810, 5]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = S6,8

[State 275, 6]
type = Width
trigger1 = Time = 0
edge = 0,100

[State 810, 7]
type = TargetBind
trigger1 = Time = 0
id = 800
pos = 35,0

[State 810, 8]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
id = 800
pos = 35,-30

[State 810, 9]
type = TargetBind
trigger1 = AnimElemTime(4) = 0
id = 800
pos = 25,-120

[State 810, 10]
type = TargetBind
trigger1 = AnimElemTime(5) = 0
id = 800
pos = -25,-90

[State 810, 11]
type = TargetBind
trigger1 = AnimElemTime(6) = 0
id = 800
pos = -75,-80

[State 810, 12]
type = TargetState
trigger1 = AnimElemTime(6) = 0
id = 800
value = 816

[State 810, 13]
type = PowerAdd
trigger1 = Var(1) = 0
trigger1 = AnimElemTime(8) = 0
value = 32
persistent = 0

[State 810, 14]
type = PowerAdd
trigger1 = Var(1) != 0
trigger1 = AnimElemTime(8) = 0
value = 16
persistent = 0

[State 810, 15]
type = TargetLifeAdd
trigger1 = Var(1) = 0
trigger1 = AnimElemTime(8) = 0
id = 800
value = -Floor((Ceil(28*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3)*(Const(data.attack)*0.01))
kill = 1

[State 810, 16]
type = TargetLifeAdd
trigger1 = Var(1) = 1
trigger1 = AnimElemTime(8) = 0
id = 800
value = -Floor((Ceil(22*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3)*(Const(data.attack)*0.01))
kill = 1

[State 810, 17]
type = TargetLifeAdd
trigger1 = Var(1) = 2
trigger1 = AnimElemTime(8) = 0
id = 800
value = -Floor((Ceil(26*FVar(0)*FVar(1)-(Var(4)>1))*FVar(2))*Var(3)*(Const(data.attack)*0.01))
kill = 1

[State 810, HitCount]
type = VarAdd
trigger1 = AnimElemTime(8) = 0
v = 4
value = 1
persistent = 0
ignorehitpause = 1

[State 810, 18]
type = VelSet
trigger1 = NumTarget(800) > 0
trigger1 = Target(800),FrontEdgeDist <= 2
trigger1 = AnimElemTime(8) = 0
x = 6

[State 810, 19]
type = VelMul
trigger1 = Vel X > 0
x = 0.975

[State 810, 20]
type = VelSet
trigger1 = Vel X < 4.0
x = 0

[State 810, 21]
type = Turn
trigger1 = AnimTime = 0

[State 810, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 投げ（投げられている相手１）
[Statedef 815]
type     = S
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 1

[State 815, 1]
type = HitOverRide
trigger1 = 1
attr = , NT, ST, HT
time = 1
ignorehitpause = 1

[State 815, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 815, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 815, 4]
type = SprPriority
trigger1 = 1
value = 2

[State 815, 5]
type = ChangeAnim2
trigger1 = Time = 0
value = 815

[State 815, 6]
type = SelfState
trigger1 = Time >= 35
trigger1 = Pos Y = 0
value = 5001

;---------------------------------------------------------------------------
; 投げ（投げられている相手２）
[Statedef 816]
type     = A
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 816, 1]
type = SprPriority
trigger1 = 1
value = 2

[State 816, 2]
type = ChangeAnim2
trigger1 = Time = 0
value = 816

[State 816, 3]
type = VelSet
trigger1 = Time = 0
x = 16
y = 8

[State 816, 4]
type = VelAdd
trigger1 = Time > 0
y = 0.5

[State 816, 5]
type = ChangeState
trigger1 = Pos Y >= -40
trigger1 = Vel Y > 0
value = 817

;---------------------------------------------------------------------------
; 投げ（投げられている相手２）
[Statedef 817]
type     = L
movetype = H
physics  = N
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 0

[State 817, 1]
type = ChangeAnim
triggerall = Time = 0
trigger1 = !SelfAnimExist(5110)
trigger1 = !SelfAnimExist(5170)
value = 244

[State 817, 2]
type = ChangeAnim
triggerall = Time = 0
trigger1 = SelfAnimExist(5110)
trigger1 = SelfAnimExist(5170)
value = 5170

[State 817, 3]
type = ChangeAnim
triggerall = Time = 0
trigger1  = Name = "sanada_ani" && AuthorName = "ohgaki"
trigger2  = Name = "Shigen_naoe" && AuthorName = "ohgaki"
trigger3  = Name = "kaede" && AuthorName = "ohgaki"
trigger4  = Name = "Setsuna" && AuthorName = "HSR"
trigger5  = Name = "Hibiki Takane" && AuthorName = "HSR"
trigger6  = Name = "Mukuro" && AuthorName = "ahuron"
trigger7  = Name = "Mukuro" && AuthorName = "HAL"
trigger8  = Name = "Shinnosuke Kagami" && AuthorName = "ahuron"
trigger9  = Name = "Shinnosuke Kagami" && AuthorName = "HAL"
trigger10 = Name = "Shinnosuke Kagami" && AuthorName = "ohgaki"
trigger11 = Name = "Ponta" && AuthorName = "ahuron"
trigger12 = Name = "Hyo Amano" && AuthorName = "abuhachi"
trigger13 = Name = "Kouryu" && AuthorName = "abuhachi"
trigger14 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
trigger15 = Name = "Lee Rekka" && AuthorName = "abuhachi"
trigger16 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger17 = Name = "zantetsu" && AuthorName = "HAL"
trigger18 = Name = "Moriya Minakata" && AuthorName = "HAL"
trigger19 = Name = "Kojiroh Sanada" && AuthorName = "HAL"
trigger20 = Name = "Juzo Kanzaki" && AuthorName = "HAL"
trigger21 = Name = "Shikyoh" && AuthorName = "ohgaki"
trigger22 = Name = "Akari Ichijo" && AuthorName = "ohgaki"
trigger23 = Name = "washizuka" && AuthorName = "ohgaki"
trigger24 = Name = "Yuki" && AuthorName = "ohgaki"
trigger25 = Name = "Maede" && AuthorName = "ohgaki"
trigger26 = Name = "Inaba Tewi" && AuthorName = "HAL"
trigger27 = Name = "Kanna" && AuthorName = "ohgaki"
trigger28 = Name = "Nayu" && AuthorName = "ohgaki"
trigger29 = Name = "Chibi Suika" && AuthorName = "ohgaki"
trigger30 = Name = "Unyuho" && AuthorName = "ohgaki" && SelfAnimExist(5081) && SelfAnimExist(5111)
value = 5081

[State 817, 4]
type = ChangeAnim
triggerall = Anim = 5081
triggerall = Time = 20 || AnimTime = 0
trigger1  = Name = "sanada_ani" && AuthorName = "ohgaki"
trigger2  = Name = "Shigen_naoe" && AuthorName = "ohgaki"
trigger3  = Name = "kaede" && AuthorName = "ohgaki"
trigger4  = Name = "Setsuna" && AuthorName = "HSR"
trigger5  = Name = "Hibiki Takane" && AuthorName = "HSR"
trigger6  = Name = "Mukuro" && AuthorName = "ahuron"
trigger7  = Name = "Mukuro" && AuthorName = "HAL"
trigger8  = Name = "Shinnosuke Kagami" && AuthorName = "ahuron"
trigger9  = Name = "Shinnosuke Kagami" && AuthorName = "HAL"
trigger10 = Name = "Shinnosuke Kagami" && AuthorName = "ohgaki"
trigger11 = Name = "Ponta" && AuthorName = "ahuron"
trigger12 = Name = "Hyo Amano" && AuthorName = "abuhachi"
trigger13 = Name = "Kouryu" && AuthorName = "abuhachi"
trigger14 = Name = "Musashi Akatsuki" && AuthorName = "abuhachi"
trigger15 = Name = "Lee Rekka" && AuthorName = "abuhachi"
trigger16 = Name = "Genbu no Okina" && AuthorName = "HAL"
trigger17 = Name = "zantetsu" && AuthorName = "HAL"
trigger18 = Name = "Moriya Minakata" && AuthorName = "HAL"
trigger19 = Name = "Kojiroh Sanada" && AuthorName = "HAL"
trigger20 = Name = "Juzo Kanzaki" && AuthorName = "HAL"
trigger21 = Name = "Shikyoh" && AuthorName = "ohgaki"
trigger22 = Name = "Akari Ichijo" && AuthorName = "ohgaki"
trigger23 = Name = "washizuka" && AuthorName = "ohgaki"
trigger24 = Name = "Yuki" && AuthorName = "ohgaki"
trigger25 = Name = "Maede" && AuthorName = "ohgaki"
trigger26 = Name = "Inaba Tewi" && AuthorName = "HAL"
trigger27 = Name = "Kanna" && AuthorName = "ohgaki"
trigger28 = Name = "Nayu" && AuthorName = "ohgaki"
trigger29 = Name = "Chibi Suika" && AuthorName = "ohgaki"
trigger30 = Name = "Unyuho" && AuthorName = "ohgaki" && SelfAnimExist(5081) && SelfAnimExist(5111)
value = 5111

[State 817, 5]
type = ChangeAnim
trigger1 = Anim = 244 || Anim = 5170
trigger1 = AnimTime = 0
value = 5110

[State 817, 6]
type = EnvShake
trigger1 = Time = 0
time = 5
freq = 120
ampl = 6
phase = -1

[State 817, 7]
type = VelSet
trigger1 = Time = 0
x = 7
y = 0

[State 817, 8]
type = PosSet
trigger1 = 1
y = 0

[State 817, 9]
type = VelMul
trigger1 = 1
x = 0.95

[State 817, 10]
type = VelSet
trigger1 = Time >= 20
x = 0

[State 817, 11]
type = SelfState
trigger1 = Time = 20
trigger1 = Life = 0 || !Alive
value = 5110

[State 817, 12]
type = SelfState
trigger1 = Time > 45
value = 5120
